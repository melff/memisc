<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Object Oriented Interface to Foreign Files — importers • memisc</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Object Oriented Interface to Foreign Files — importers"><meta name="description" content="Importer objects are objects that refer to an external
data file. Currently only Stata files,
SPSS system, portable, and fixed-column files are supported.
Data are actually imported by `translating' an
importer file into a data.set using
as.data.set or subset.
The importer mechanism is more flexible and extensible
than read.spss and  read.dta
of package &quot;foreign&quot;, as most of the parsing of the file headers is done in R.
It is also adapted to efficiently load large data sets.
Most importantly, importer objects support the
labels, missing.values,
and descriptions, provided by this package."><meta property="og:description" content="Importer objects are objects that refer to an external
data file. Currently only Stata files,
SPSS system, portable, and fixed-column files are supported.
Data are actually imported by `translating' an
importer file into a data.set using
as.data.set or subset.
The importer mechanism is more flexible and extensible
than read.spss and  read.dta
of package &quot;foreign&quot;, as most of the parsing of the file headers is done in R.
It is also adapted to efficiently load large data sets.
Most importantly, importer objects support the
labels, missing.values,
and descriptions, provided by this package."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">memisc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.99.31.8.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Survey items</h6></li>
    <li><a class="dropdown-item" href="../articles/items.html">Handling questionnaire items</a></li>
    <li><a class="dropdown-item" href="../articles/import.html">Importing data from SPSS and Stata</a></li>
    <li><a class="dropdown-item" href="../articles/anes48.html">Analysing the American National Election Study of 1948</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tables of summary statistics and model estimates</h6></li>
    <li><a class="dropdown-item" href="../articles/gentab.html">Generating Tables of Descriptive Statistics</a></li>
    <li><a class="dropdown-item" href="../articles/ftable-matrix.html">Combining flattened contingency tables (and other tables)</a></li>
    <li><a class="dropdown-item" href="../articles/mtable-html.html">Tables of model estimates</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/melff/memisc/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Object Oriented Interface to Foreign Files</h1>

      <div class="d-none name"><code>importers.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Importer objects are objects that refer to an external
data file. Currently only Stata files,
SPSS system, portable, and fixed-column files are supported.</p>
<p>Data are actually imported by `translating' an
importer file into a <code><a href="dataSets.html">data.set</a></code> using
<code>as.data.set</code> or <code>subset</code>.</p>
<p>The <code>importer</code> mechanism is more flexible and extensible
than <code><a href="https://rdrr.io/pkg/foreign/man/read.spss.html" class="external-link">read.spss</a></code> and  <code><a href="https://rdrr.io/pkg/foreign/man/read.dta.html" class="external-link">read.dta</a></code>
of package "foreign", as most of the parsing of the file headers is done in R.
It is also adapted to efficiently load large data sets.
Most importantly, importer objects support the
<code><a href="labels.html">labels</a></code>, <code><a href="value-filters.html">missing.values</a></code>,
and <code><a href="annotations.html">description</a></code>s, provided by this package.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">spss.file</span><span class="op">(</span><span class="va">file</span>,<span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">spss.fixed.file</span><span class="op">(</span><span class="va">file</span>,</span>
<span>  <span class="va">columns.file</span>,</span>
<span>  varlab.file<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  codes.file<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  missval.file<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  count.cases<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>  to.lower<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"spss.fixed.to.lower"</span>,<span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  iconv<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>  encoded<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"spss.fixed.encoding"</span>,<span class="st">"cp1252"</span><span class="op">)</span>,</span>
<span>  negative2missing <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">spss.portable.file</span><span class="op">(</span><span class="va">file</span>,</span>
<span>  varlab.file<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  codes.file<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  missval.file<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  count.cases<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>  to.lower<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"spss.por.to.lower"</span>,<span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  iconv<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>  encoded<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"spss.por.encoding"</span>,<span class="st">"cp1252"</span><span class="op">)</span>,</span>
<span>  negative2missing <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">spss.system.file</span><span class="op">(</span><span class="va">file</span>,</span>
<span>  varlab.file<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  codes.file<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  missval.file<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>  count.cases<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>  to.lower<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"spss.sav.to.lower"</span>,<span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  iconv<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>  encoded<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"spss.sav.encoding"</span>,<span class="st">"cp1252"</span><span class="op">)</span>,</span>
<span>  ignore.scale.info <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  negative2missing <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">Stata.file</span><span class="op">(</span><span class="va">file</span>,</span>
<span>           iconv<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>           encoded<span class="op">=</span><span class="kw">if</span><span class="op">(</span><span class="va">new_format</span><span class="op">)</span></span>
<span>                        <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"Stata.new.encoding"</span>,<span class="st">"utf-8"</span><span class="op">)</span></span>
<span>                   <span class="kw">else</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"Stata.old.encoding"</span>,<span class="st">"cp1252"</span><span class="op">)</span>,</span>
<span>           negative2missing <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## The most important methods for "importer" objects are:</span></span>
<span><span class="co"># S3 method for class 'spss.system.importer'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">subset</span>, <span class="va">select</span>, drop <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S3 method for class 'spss.portable.importer'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">subset</span>, <span class="va">select</span>, drop <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S3 method for class 'spss.fixed.importer'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">subset</span>, <span class="va">select</span>, drop <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S3 method for class 'Stata.importer'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">subset</span>, <span class="va">select</span>, drop <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S3 method for class 'Stata_new.importer'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">subset</span>, <span class="va">select</span>, drop <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'importer'</span></span>
<span><span class="fu"><a href="dataSets.html">as.data.set</a></span><span class="op">(</span><span class="va">x</span>,row.names<span class="op">=</span><span class="cn">NULL</span>,optional<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>                    compress.storage.modes<span class="op">=</span><span class="cn">FALSE</span>,<span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'importer'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">x</span>,n<span class="op">=</span><span class="fl">20</span>,<span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S4 method for class 'importer'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">x</span>,n<span class="op">=</span><span class="fl">20</span>,<span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-file">file<a class="anchor" aria-label="anchor" href="#arg-file"></a></dt>
<dd><p>character string; the path to the file containing
      the data</p></dd>

    <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Other arguments. <code>spss.file()</code> passes them on to
        <code>spss.portable.file()</code> of  <code>spss.system.file()</code>. Other
        function ignore further arguments.</p></dd>

    <dt id="arg-columns-file">columns.file<a class="anchor" aria-label="anchor" href="#arg-columns-file"></a></dt>
<dd><p>character string; the path to an
        SPSS/PSPP syntax file with a <code>DATA LIST FIXED</code> statement</p></dd>

    <dt id="arg-varlab-file">varlab.file<a class="anchor" aria-label="anchor" href="#arg-varlab-file"></a></dt>
<dd><p>character string; the path to an
        SPSS/PSPP syntax file with a <code>VARIABLE LABELS</code> statement</p></dd>

    <dt id="arg-codes-file">codes.file<a class="anchor" aria-label="anchor" href="#arg-codes-file"></a></dt>
<dd><p>character string; the path to an
        SPSS/PSPP syntax file with a <code>VALUE LABELS</code> statement</p></dd>

    <dt id="arg-missval-file">missval.file<a class="anchor" aria-label="anchor" href="#arg-missval-file"></a></dt>
<dd><p>character string; the path to an
        SPSS/PSPP syntax file with a <code>MISSING VALUES</code> statement</p></dd>

    <dt id="arg-count-cases">count.cases<a class="anchor" aria-label="anchor" href="#arg-count-cases"></a></dt>
<dd><p>logical; should cases in file be counted? This
      takes effect only if the data file does not already contain information
      about the number of cases.</p></dd>

    <dt id="arg-to-lower">to.lower<a class="anchor" aria-label="anchor" href="#arg-to-lower"></a></dt>
<dd><p>logical; should variable names changed to lower
      case?</p></dd>

    <dt id="arg-iconv">iconv<a class="anchor" aria-label="anchor" href="#arg-iconv"></a></dt>
<dd><p>logical; should strings (in labels and
      variables) changed into encoding of the platform?</p></dd>

    <dt id="arg-encoded">encoded<a class="anchor" aria-label="anchor" href="#arg-encoded"></a></dt>
<dd><p>a cacharacter string; the way characters are encoded
      in the improrted file. For the available encoding options
      see <code><a href="https://rdrr.io/r/base/iconv.html" class="external-link">?iconvlist</a></code>. Using this argument for
      <code>spss.system.file</code> this is only a fallback, as the function
      uses the encoding information present in the file if it is
      present.</p></dd>

    <dt id="arg-negative-missing">negative2missing<a class="anchor" aria-label="anchor" href="#arg-negative-missing"></a></dt>
<dd><p>logical; should negative values be marked
      as missing values? This is the convention of some newer data sets that
      are available e.g. from the GESIS data archive.</p></dd>

    <dt id="arg-ignore-scale-info">ignore.scale.info<a class="anchor" aria-label="anchor" href="#arg-ignore-scale-info"></a></dt>
<dd><p>logical; should information about measuremnt
      scale levels provided in the file be ignored?</p></dd>

    <dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>an object that inherits from class <code>"importer"</code>.</p></dd>

    <dt id="arg-subset">subset<a class="anchor" aria-label="anchor" href="#arg-subset"></a></dt>
<dd><p>a logical vector or an expression containing variables
        from the external data file that evaluates to logical.</p></dd>

    <dt id="arg-select">select<a class="anchor" aria-label="anchor" href="#arg-select"></a></dt>
<dd><p>a vector of variable names from the external data file.
          This may also be a named vector, where the names give
          the names into which the variables from the external data
          file are renamed.</p></dd>

    <dt id="arg-drop">drop<a class="anchor" aria-label="anchor" href="#arg-drop"></a></dt>
<dd><p>a logical value, that determines what happens if
      only one column is selected. If TRUE and only one column
      is selected, <code>subset</code> returns only a single <code>item</code>
      object and not a <code>data.set</code>.</p></dd>

    <dt id="arg-row-names">row.names<a class="anchor" aria-label="anchor" href="#arg-row-names"></a></dt>
<dd><p>ignored, present only for compatibility.</p></dd>

    <dt id="arg-optional">optional<a class="anchor" aria-label="anchor" href="#arg-optional"></a></dt>
<dd><p>ignored, present only for compatibility.</p></dd>

    <dt id="arg-compress-storage-modes">compress.storage.modes<a class="anchor" aria-label="anchor" href="#arg-compress-storage-modes"></a></dt>
<dd><p>logical value; if TRUE floating point values
      are converted to integers if possible without loss of information.</p></dd>

    <dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>integer; the number of rows to be shown by <code>head</code> or <code>tail</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>spss.fixed.file</code>, <code>spss.portable.file</code>,
<code>spss.system.file</code>, and <code>Stata.file</code>
return, respectively, objects of class
<code>"spss.fixed.importer"</code>, <code>"spss.portable.importer"</code>,
<code>"spss.system.importer"</code>, <code>"Stata.importer"</code>, or <code>"Stata_new.importer"</code>,
which, by inheritance, are also objects of class <code>"importer"</code>.
<code>"Stata.importer"</code> is for files in the format of Stata versions up
    to 12, while <code>"Stata_new.importer"</code> is for files in the newer
    format of Stata versions from 13.</p>
<p>Objects of class <code>"importer"</code> have at least the following two slots:</p>
<p></p>
<dl><dt>ptr</dt>
<dd><p>an external pointer</p></dd>

  <dt>variables</dt>
<dd><p>a list of objects of class <code>"item.vector"</code> which
    provides a `prototype' for the <code>"data.set"</code> set objects returned
    by the <code>as.data.set</code> and <code>subset</code> methods for objects of
    class <code>"importer"</code></p></dd>



</dl><p>The <code>as.data.frame</code> for <code>importer</code> objects does
the actual data import and returns a data frame. Note that in contrast
to <code><a href="https://rdrr.io/pkg/foreign/man/read.spss.html" class="external-link">read.spss</a></code>, the variable names of the
resulting data frame will be lower case, unless the importer function
is called with <code>to.lower=FALSE</code>. If long variable names
are defined (in case of a PSPP/SPSS system file), they take
precedence and are <em>not</em> coerced to lower case.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="codebook.html">codebook</a></code>, <code><a href="annotations.html">description</a></code>,
<code><a href="https://rdrr.io/pkg/foreign/man/read.spss.html" class="external-link">read.spss</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>A call to a `constructor' for an importer object, that is,
    <code>spss.fixed.file</code>, <code>spss.portable.file</code>, <code>spss.sysntax.file</code>,
    or <code>Stata.file</code>,
    causes R to read in the header of the data file and/or
    the syntax files that contain information about
    the variables, such as the columns that they occupy
    (in case of <code>spss.fixed.file</code>), variable labels,
    value labels and missing values.</p>
<p>The information in the file header and/or the accompagnying
    files is then processed to prepare the file for importing.
    Thus the inner structure of an <code>importer</code> object may
    well vary according to what type of file is to imported and
    what additional information is given.</p>
<p>The <code>as.data.set</code> and <code>subset</code> methods
    for <code>"importer"</code> objects internally use the
    generic functions <code>seekData</code>, <code>readData</code>, <code>readSlice</code>,
    and <code>readChunk</code>, which have methods for the
    subclasses of <code>"importer"</code>.
    These functions are not callable
    from outside the package, however.</p>
<p>The <code>subset</code> method for <code>"importer"</code> objects reads in
    the data `chunk-wise' to create the subset of observations if
    the option <code>"subset.chunk.size"</code> is set to a non-<code>NULL</code>
    value, e.g. by <code>options(subset.chunk.size=1000)</code>. This may be
    useful in case of very large data sets from which only a tiny subset
    of observations is needed for analysis.</p>
<p>Since the functions described here are more or less complete rewrite
    based on the description of the file structure provided
    by the documenation for PSPP, they are perhaps not as thorougly tested as the
    functions in the <code>foreign</code> package, apart from the frequent use
    by the author of this package.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Extract American National Election Study of 1948</span></span></span>
<span class="r-in"><span><span class="va">nes1948.por</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/unzip.html" class="external-link">unzip</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"anes/NES1948.ZIP"</span>,package<span class="op">=</span><span class="st">"memisc"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                     <span class="st">"NES1948.POR"</span>,exdir<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get information about the variables contained.</span></span></span>
<span class="r-in"><span><span class="va">nes1948</span> <span class="op">&lt;-</span> <span class="fu">spss.portable.file</span><span class="op">(</span><span class="va">nes1948.por</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>9 variables have duplicated labels:</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   V480004, V480012, V480020, V480021A, V480021B, V480033A, V480033B,</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   V480034A, V480034B</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The data are not yet loaded:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/methods/show.html" class="external-link">show</a></span><span class="op">(</span><span class="va">nes1948</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SPSS portable file '/tmp/RtmpYD8wvW/file169021c0e7b5/NES1948.POR' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	with 67 variables and 662 observations</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ... but one can see what variables are present:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="annotations.html">description</a></span><span class="op">(</span><span class="va">nes1948</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  VVERSION 'NES VERSION NUMBER'        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  VDSETNO  'NES DATASET NUMBER'        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480001  'ICPSR ARCHIVE NUMBER'      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480002  'INTERVIEW NUMBER'          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480003  'POP CLASSIFICATION'        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480004  'CODER'                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480005  'NUMBER OF CALLS TO R'      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480006  'R REMEMBER PREVIOUS INT'   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480007  'INTR INTERVIEW THIS R'     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480008  'PRVS PRE-ELCTN R REINT'    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480009  'R INT IN PRE/POSTELCTN'    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480010  'RENT CNTRL KEPT/DROPPED'   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480011  'GOVT CONTROL PRICES'       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480012  'WHAT TO DO W TFT-HT ACT'   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480013  'PRESLELCTN OTCM SURPRISE'  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480014A 'WHY PPL VTD FOR TRUMAN 1'  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480014B 'WHY PPL VTD FOR TRUMAN 2'  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480015A 'WHY PPL VTD AGNST TRUMAN 1'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480015B 'WHY PPL VTD AGNST TRUMAN 2'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480016A 'WHY PPL VTD FOR DEWEY 1'   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480016B 'WHY PPL VTD FOR DEWEY 2'   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480017A 'WHY PPL VTD AGNST DEWEY 1' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480017B 'WHY PPL VTD AGNST DEWEY 2' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480018  'DID R VOTE/FOR WHOM'       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480019  'WN DECIDE FOR WHOM TO VT'  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480020  'CNSD VT FOR SOMEONE ELSE'  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480021A 'XWHY DID NOT VT FOR HIM 1' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480021B 'XWHY DID NOT VT FOR HIM 2' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480022A 'WHY VT THE WAY YOU DID 1'  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480022B 'WHY VT THE WAY YOU DID 2'  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480023  'VOTED STRAIGHT TICKET'     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480024  'R NOT VT-IF VT,FOR WHOM'   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480025A 'R NOT VT-WHY DID NOT VT 1' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480025B 'R NOT VT-WHY DID NOT VT 2' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480026  'R NOT VT-WAS R REG TO VT'  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480027  'VTD IN PRVS PRESL ELCTN'   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480028  'VTD FOR WHOM IN 1944'      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480029  'OCCUPATION OF HEAD'        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480030  'HEAD BELONG TO LBR UN'     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480031A 'GRPS IDENTIFIED W TRUMAN 1'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480031B 'GRPS IDENTIFIED W TRUMAN 2'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480031C 'GRPS IDENTIFIED W TRUMAN 3'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480032A 'GRPS IDENTIFIED W DEWEY 1' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480032B 'GRPS IDENTIFIED W DEWEY 2' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480032C 'GRPS IDENTIFIED W DEWEY 3' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480033A 'ISSUES CONNECTED W TRMN 1' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480033B 'ISSUES CONNECTED W TRMN 2' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480034A 'ISSUES CONNECTED W DEWEY 1'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480034B 'ISSUES CONNECTED W DEWEY 2'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480035A 'PERSONAL ATTRIBUTE TRMN 1' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480035B 'PERSONAL ATTRIBUTE TRMN 2' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480036A 'PERSONAL ATTRIBUTE DEWEY 1'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480036B 'PERSONAL ATTRIBUTE DEWEY 2'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480037  'CMPN INCIDENTS MENTIONED'  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480038  '41-PRESLELCTN PLAN TO VT'  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480039  '41-PLAN TO VT REP/DEM'     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480040  '41-USA'S CNCRN W OTHERS'   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480041  '41-SATISD USA TWRD RUSS'   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480042  '41-INFORMATION LEVEL'      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480043  '41-USA GV IN,AGRT RUSS'    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480044  '41-USA-RUSS AGRT VIA U.N'  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480045  'SEX OF RESPONDENT'         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480046  'RACE OF RESPONDENT'        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480047  'AGE OF RESPONDENT'         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480048  'EDUCATION OF RESPONDENT'   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480049  'TOTAL 1948 INCOME'         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  V480050  'RELIGIOUS PREFERENCE'      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Now a subset of the data is loaded:</span></span></span>
<span class="r-in"><span><span class="va">vote.socdem.48</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">nes1948</span>,</span></span>
<span class="r-in"><span>              select<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>                  <span class="va">V480018</span>,</span></span>
<span class="r-in"><span>                  <span class="va">V480029</span>,</span></span>
<span class="r-in"><span>                  <span class="va">V480030</span>,</span></span>
<span class="r-in"><span>                  <span class="va">V480045</span>,</span></span>
<span class="r-in"><span>                  <span class="va">V480046</span>,</span></span>
<span class="r-in"><span>                  <span class="va">V480047</span>,</span></span>
<span class="r-in"><span>                  <span class="va">V480048</span>,</span></span>
<span class="r-in"><span>                  <span class="va">V480049</span>,</span></span>
<span class="r-in"><span>                  <span class="va">V480050</span></span></span>
<span class="r-in"><span>                  <span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Let's make the names more descriptive:</span></span></span>
<span class="r-in"><span><span class="va">vote.socdem.48</span> <span class="op">&lt;-</span> <span class="fu"><a href="rename.html">rename</a></span><span class="op">(</span><span class="va">vote.socdem.48</span>,</span></span>
<span class="r-in"><span>                  V480018 <span class="op">=</span> <span class="st">"vote"</span>,</span></span>
<span class="r-in"><span>                  V480029 <span class="op">=</span> <span class="st">"occupation.hh"</span>,</span></span>
<span class="r-in"><span>                  V480030 <span class="op">=</span> <span class="st">"unionized.hh"</span>,</span></span>
<span class="r-in"><span>                  V480045 <span class="op">=</span> <span class="st">"gender"</span>,</span></span>
<span class="r-in"><span>                  V480046 <span class="op">=</span> <span class="st">"race"</span>,</span></span>
<span class="r-in"><span>                  V480047 <span class="op">=</span> <span class="st">"age"</span>,</span></span>
<span class="r-in"><span>                  V480048 <span class="op">=</span> <span class="st">"education"</span>,</span></span>
<span class="r-in"><span>                  V480049 <span class="op">=</span> <span class="st">"total.income"</span>,</span></span>
<span class="r-in"><span>                  V480050 <span class="op">=</span> <span class="st">"religious.pref"</span></span></span>
<span class="r-in"><span>        <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># It is also possible to do both</span></span></span>
<span class="r-in"><span><span class="co"># in one step:</span></span></span>
<span class="r-in"><span><span class="co"># vote.socdem.48 &lt;- subset(nes1948,</span></span></span>
<span class="r-in"><span><span class="co">#              select=c(</span></span></span>
<span class="r-in"><span><span class="co">#                  vote           = V480018,</span></span></span>
<span class="r-in"><span><span class="co">#                  occupation.hh  = V480029,</span></span></span>
<span class="r-in"><span><span class="co">#                  unionized.hh   = V480030,</span></span></span>
<span class="r-in"><span><span class="co">#                  gender         = V480045,</span></span></span>
<span class="r-in"><span><span class="co">#                  race           = V480046,</span></span></span>
<span class="r-in"><span><span class="co">#                  age            = V480047,</span></span></span>
<span class="r-in"><span><span class="co">#                  education      = V480048,</span></span></span>
<span class="r-in"><span><span class="co">#                  total.income   = V480049,</span></span></span>
<span class="r-in"><span><span class="co">#                  religious.pref = V480050</span></span></span>
<span class="r-in"><span><span class="co">#                  ))</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We examine the data more closely:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="codebook.html">codebook</a></span><span class="op">(</span><span class="va">vote.socdem.48</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    vote 'DID R VOTE/FOR WHOM'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Storage mode: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Measurement: nominal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Missing values: 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Values and labels             N Valid Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1   'VOTED - FOR TRUMAN'    212  32.1  32.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2   'VOTED - FOR DEWEY'     178  27.0  26.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3   'VOTED - FOR WALLACE'     1   0.2   0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4   'VOTED - FOR OTHER'      11   1.7   1.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5   'VOTED - NA FOR WHOM'    20   3.0   3.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    6   'DID NOT VOTE'          238  36.1  36.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    9 M 'NA WHETHER VOTED'        2         0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    occupation.hh 'OCCUPATION OF HEAD'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Storage mode: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Measurement: nominal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Missing values: 99</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Values and labels                                  N Valid Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    10   'PROFESSIONAL, SEMI-PROFESSIONAL'            44   6.9   6.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    20   'SELF-EMPLOYED, MANAGERIAL, SUPERVISORY'     73  11.5  11.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    30   'OTHER WHITE-COLLAR (CLERICAL, SALES, ET'    79  12.5  11.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    40   'SKILLED AND SEMI-SKILLED'                  164  25.9  24.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    60   'PROTECTIVE SERVICE'                          6   0.9   0.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    70   'UNSKILLED, INCLUDING FARM AND SERVICE W'    85  13.4  12.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    80   'FARM OPERATORS AND MANAGERS'               105  16.6  15.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    92   'STUDENT'                                     7   1.1   1.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    94   'UNEMPLOYED'                                  5   0.8   0.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    95   'RETIRED, TOO OLD OR UNABLE TO WORK'         38   6.0   5.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    96   'HOUSEWIFE'                                  28   4.4   4.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    99 M 'NA'                                         28         4.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    unionized.hh 'HEAD BELONG TO LBR UN'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Storage mode: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Measurement: nominal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Missing values: 8 - Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Values and labels     N Valid Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1   'YES'           150  23.3  22.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2   'NO'            493  76.7  74.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    8 M 'DK'              5         0.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    9 M 'NA'             14         2.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    gender 'SEX OF RESPONDENT'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Storage mode: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Measurement: nominal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Missing values: 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Values and labels     N Valid Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1   'MALE'          302  45.8  45.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2   'FEMALE'        357  54.2  53.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    9 M 'NA'              3         0.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    race 'RACE OF RESPONDENT'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Storage mode: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Measurement: nominal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Missing values: 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Values and labels     N Valid Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1   'WHITE'         585  90.7  88.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2   'NEGRO'          60   9.3   9.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3   'OTHER'           0   0.0   0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    9 M 'NA'             17         2.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    age 'AGE OF RESPONDENT'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Storage mode: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Measurement: nominal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Missing values: 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Values and labels     N Valid Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1   '18-24'          57   8.7   8.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2   '25-34'         142  21.7  21.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3   '35-44'         174  26.6  26.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4   '45-54'         125  19.1  18.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5   '55-64'          86  13.1  13.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    6   '65 AND OVER'    70  10.7  10.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    9 M 'NA'              8         1.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    education 'EDUCATION OF RESPONDENT'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Storage mode: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Measurement: nominal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Missing values: 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Values and labels      N Valid Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1   'GRADE SCHOOL'   292  44.4  44.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2   'HIGH SCHOOL'    266  40.4  40.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3   'COLLEGE'        100  15.2  15.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    9 M 'NA'               4         0.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    total.income 'TOTAL 1948 INCOME'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Storage mode: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Measurement: nominal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Missing values: 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Values and labels        N Valid Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1   'UNDER $500'        25   3.8   3.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2   '$500-$999'         43   6.6   6.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3   '$1000-1999'       110  16.8  16.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4   '$2000-2999'       185  28.2  27.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5   '$3000-3999'       142  21.7  21.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    6   '$4000-4999'        66  10.1  10.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    7   '$5000 AND OVER'    84  12.8  12.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    9 M 'NA'                 7         1.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    religious.pref 'RELIGIOUS PREFERENCE'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Storage mode: double</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Measurement: nominal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Missing values: 9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Values and labels     N Valid Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1   'PROTESTANT'    460  70.0  69.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2   'CATHOLIC'      140  21.3  21.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3   'JEWISH'         25   3.8   3.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4   'OTHER'          14   2.1   2.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5   'NONE'           18   2.7   2.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    9 M 'NA'              5         0.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ... and conduct some analyses.</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fu"><a href="genTable.html">genTable</a></span><span class="op">(</span><span class="fu"><a href="percent.html">percent</a></span><span class="op">(</span><span class="va">vote</span><span class="op">)</span><span class="op">~</span><span class="va">occupation.hh</span>,data<span class="op">=</span><span class="va">vote.socdem.48</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> occupation.hh                             VOTED - FOR TRUMAN VOTED - FOR DEWEY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   PROFESSIONAL, SEMI-PROFESSIONAL                  22.727273          50.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   SELF-EMPLOYED, MANAGERIAL, SUPERVISORY            9.589041          61.64384</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   OTHER WHITE-COLLAR (CLERICAL, SALES, ET          37.974684          39.24051</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   SKILLED AND SEMI-SKILLED                         51.829268          14.63415</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   PROTECTIVE SERVICE                               16.666667          33.33333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   UNSKILLED, INCLUDING FARM AND SERVICE W          32.941176          11.76471</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   FARM OPERATORS AND MANAGERS                      24.761905          13.33333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   STUDENT                                          14.285714          28.57143</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   UNEMPLOYED                                        0.000000           0.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   RETIRED, TOO OLD OR UNABLE TO WORK               27.027027          43.24324</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   HOUSEWIFE                                        17.857143          28.57143</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   &lt;NA&gt;                                             33.333333          14.81481</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> occupation.hh                             VOTED - FOR WALLACE VOTED - FOR OTHER</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   PROFESSIONAL, SEMI-PROFESSIONAL                   0.0000000          2.272727</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   SELF-EMPLOYED, MANAGERIAL, SUPERVISORY            0.0000000          1.369863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   OTHER WHITE-COLLAR (CLERICAL, SALES, ET           0.0000000          0.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   SKILLED AND SEMI-SKILLED                          0.6097561          1.219512</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   PROTECTIVE SERVICE                                0.0000000         16.666667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   UNSKILLED, INCLUDING FARM AND SERVICE W           0.0000000          0.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   FARM OPERATORS AND MANAGERS                       0.0000000          2.857143</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   STUDENT                                           0.0000000          0.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   UNEMPLOYED                                        0.0000000          0.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   RETIRED, TOO OLD OR UNABLE TO WORK                0.0000000          2.702703</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   HOUSEWIFE                                         0.0000000          0.000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   &lt;NA&gt;                                              0.0000000          7.407407</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> occupation.hh                             VOTED - NA FOR WHOM DID NOT VOTE   N</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   PROFESSIONAL, SEMI-PROFESSIONAL                    2.272727     22.72727  44</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   SELF-EMPLOYED, MANAGERIAL, SUPERVISORY             1.369863     26.02740  73</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   OTHER WHITE-COLLAR (CLERICAL, SALES, ET            5.063291     17.72152  79</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   SKILLED AND SEMI-SKILLED                           2.439024     29.26829 164</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   PROTECTIVE SERVICE                                 0.000000     33.33333   6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   UNSKILLED, INCLUDING FARM AND SERVICE W            4.705882     50.58824  85</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   FARM OPERATORS AND MANAGERS                        1.904762     57.14286 105</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   STUDENT                                            0.000000     57.14286   7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   UNEMPLOYED                                        20.000000     80.00000   5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   RETIRED, TOO OLD OR UNABLE TO WORK                 2.702703     24.32432  37</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   HOUSEWIFE                                          0.000000     53.57143  28</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   &lt;NA&gt;                                               7.407407     37.03704  27</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We consider only the two main candidates.</span></span></span>
<span class="r-in"><span><span class="va">vote.socdem.48</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span><span class="va">vote.socdem.48</span>,<span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">truman.dewey</span> <span class="op">&lt;-</span> <span class="va">vote</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="value-filters.html">valid.values</a></span><span class="op">(</span><span class="va">truman.dewey</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span></span></span>
<span class="r-in"><span>  <span class="va">truman.dewey</span> <span class="op">&lt;-</span> <span class="fu"><a href="relabel.html">relabel</a></span><span class="op">(</span><span class="va">truman.dewey</span>,</span></span>
<span class="r-in"><span>              <span class="st">"VOTED - FOR TRUMAN"</span> <span class="op">=</span> <span class="st">"Truman"</span>,</span></span>
<span class="r-in"><span>              <span class="st">"VOTED - FOR DEWEY"</span>  <span class="op">=</span> <span class="st">"Dewey"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">truman.relig.glm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="op">(</span><span class="va">truman.dewey</span><span class="op">==</span><span class="st">"Truman"</span><span class="op">)</span><span class="op">~</span><span class="va">religious.pref</span>,</span></span>
<span class="r-in"><span>    data<span class="op">=</span><span class="va">vote.socdem.48</span>,</span></span>
<span class="r-in"><span>    family<span class="op">=</span><span class="st">"binomial"</span>,</span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> glm(formula = (truman.dewey == "Truman") ~ religious.pref, family = "binomial", </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     data = vote.socdem.48)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         Estimate Std. Error z value Pr(&gt;|z|)   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)             -0.13134    0.12831  -1.024  0.30604   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> religious.prefCATHOLIC   0.79550    0.24442   3.255  0.00114 **</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> religious.prefJEWISH    16.69740  536.55453   0.031  0.97517   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> religious.prefOTHER     -0.05099    0.61898  -0.082  0.93435   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> religious.prefNONE      -0.20514    0.59943  -0.342  0.73219   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Dispersion parameter for binomial family taken to be 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Null deviance: 537.69  on 389  degrees of freedom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residual deviance: 500.69  on 385  degrees of freedom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (272 observations deleted due to missingness)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AIC: 510.69</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of Fisher Scoring iterations: 15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martin Elff.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

