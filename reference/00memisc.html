<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Introduction to the 'memisc' Package — Memisc • memisc</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to the 'memisc' Package — Memisc"><meta name="description" content="This package collects an assortment of tools that are intended to make
work with R easier for the author of this package
and are submitted to the public in the hope that they will be also be useful to others.
The tools in this package can be grouped into four major categories:
Data preparation and management
Data analysis
Presentation of analysis results
Programming

"><meta property="og:description" content="This package collects an assortment of tools that are intended to make
work with R easier for the author of this package
and are submitted to the public in the hope that they will be also be useful to others.
The tools in this package can be grouped into four major categories:
Data preparation and management
Data analysis
Presentation of analysis results
Programming

"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">memisc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.99.31.8.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Survey items</h6></li>
    <li><a class="dropdown-item" href="../articles/items.html">Handling questionnaire items</a></li>
    <li><a class="dropdown-item" href="../articles/import.html">Importing data from SPSS and Stata</a></li>
    <li><a class="dropdown-item" href="../articles/anes48.html">Analysing the American National Election Study of 1948</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tables of summary statistics and model estimates</h6></li>
    <li><a class="dropdown-item" href="../articles/gentab.html">Generating Tables of Descriptive Statistics</a></li>
    <li><a class="dropdown-item" href="../articles/ftable-matrix.html">Combining flattened contingency tables (and other tables)</a></li>
    <li><a class="dropdown-item" href="../articles/mtable-html.html">Tables of model estimates</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/melff/memisc/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Introduction to the 'memisc' Package</h1>

      <div class="d-none name"><code>00memisc.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This package collects an assortment of tools that are intended to make
work with <code>R</code> easier for the author of this package
and are submitted to the public in the hope that they will be also be useful to others.</p>
<p>The tools in this package can be grouped into four major categories:</p><ul><li><p>Data preparation and management</p></li>
<li><p>Data analysis</p></li>
<li><p>Presentation of analysis results</p></li>
<li><p>Programming</p></li>
</ul></div>


    <div class="section level2">
    <h2 id="data-preparation-and-management">Data preparation and management<a class="anchor" aria-label="anchor" href="#data-preparation-and-management"></a></h2>

<div class="section">
<h3 id="survey-items">Survey Items<a class="anchor" aria-label="anchor" href="#survey-items"></a></h3>
<p><code>memisc</code> provides facilities to work with what users from other
  packages like SPSS, SAS, or Stata know as `variable labels', `value labels'
  and `user-defined missing values'. In the context of this package these
  aspects of the data are represented by the <code>"description"</code>,
  <code>"labels"</code>, and <code>"missing.values"</code> attributes of a
  data vector.
  These facilities are useful, for example, if you work with
  survey data that contain coded items like vote intention that
  may have the following structure:</p>
<p>Question: “If there was a parliamentary election next tuesday, which party would you vote for?”</p><table class="table table"><tr><td>1</td><td>Conservative Party</td></tr><tr><td>2</td><td>Labour Party</td></tr><tr><td>3</td><td>Liberal Democrat Party</td></tr><tr><td>4</td><td>Scottish Nation Party</td></tr><tr><td>5</td><td>Plaid Cymru</td></tr><tr><td>6</td><td>Green Party</td></tr><tr><td>7</td><td>British National Party</td></tr><tr><td>8</td><td>Other party</td></tr><tr><td>96</td><td>Not allowed to vote</td></tr><tr><td>97</td><td>Would not vote</td></tr><tr><td>98</td><td>Would vote, do not know yet for which party</td></tr><tr><td>99</td><td>No answer</td></tr></table><p>A statistical package like SPSS allows to
  attach labels like `Conservative Party', `Labour Party', etc.
  to the codes 1,2,3, etc. and to mark
  mark the codes 96, 97, 98, 99
  as `missing' and thus to exclude these variables from statistical
  analyses. <code>memisc</code> provides similar facilities.
  Labels can be attached to codes by calls like <code><a href="labels.html">labels</a>(x) &lt;- something</code>
  and expendanded by calls like <code><a href="labels.html">labels</a>(x) &lt;- <a href="labels.html">labels</a>(x) + something</code>,
  codes can be marked as `missing' by
  calls like <code><a href="value-filters.html">missing.values</a>(x) &lt;- something</code> and
  <code><a href="value-filters.html">missing.values</a>(x) &lt;- <a href="value-filters.html">missing.values</a>(x) + something</code>.</p>
<p><code>memisc</code> defines a class called "data.set", which is similar to the class "data.frame".
  The main difference is that it is especially geared toward containing survey item data.
  Transformations of and within "data.set" objects retain the information about
  value labels, missing values etc. Using <code>as.data.frame</code> sets the data up for
  <em>R</em>'s statistical functions, but doing this explicitely is seldom necessary.
  See <code><a href="dataSets.html">data.set</a></code>.</p>
</div><p></p><div class="section">
<h3 id="more-convenient-import-of-external-data">More Convenient Import of External Data<a class="anchor" aria-label="anchor" href="#more-convenient-import-of-external-data"></a></h3>
<p>Survey data sets are often relative large and contain up to a few thousand variables.
  For specific analyses one needs however only a relatively small subset of these variables.
  Although modern computers have enough RAM to load such data sets completely into an R session,
  this is not very efficient having to drop most of the variables after loading. Also, loading
  such a large data set completely can be time-consuming, because R has to allocate space for
  each of the many variables. Loading just the subset of variables really needed for an analysis
  is more efficient and convenient - it tends to be much quicker. Thus this package provides
  facilities to load such subsets of variables, without the need to load a complete data set.
  Further, the loading of data from SPSS files is organized in such a way that all informations
  about variable labels, value labels, and user-defined missing values are retained.
  This is made possible by the definition of <code><a href="importers.html">importer</a></code> objects, for which
  a <code><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></code> method exists. <code><a href="importers.html">importer</a></code> objects contain only
  the information about the variables in the external data set but not the data.
  The data itself is loaded into memory when the functions <code>subset</code> or <code><a href="dataSets.html">as.data.set</a></code>
  are used.</p>
</div><p></p><div class="section">
<h3 id="recoding">Recoding<a class="anchor" aria-label="anchor" href="#recoding"></a></h3>
<p><code>memisc</code> also contains facilities for recoding
  survey items. Simple recodings, for example collapsing answer
  categories, can be done using the function <code><a href="recode.html">recode</a></code>. More
  complex recodings, for example the construction of indices from
  multiple items, and complex case distinctions, can be done
  using the function <code><a href="cases.html">cases</a></code>. This function may also
  be useful for programming, in so far as it is a generalization of
  <code><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></code>.</p>
</div><p></p><div class="section">
<h3 id="code-books">Code Books<a class="anchor" aria-label="anchor" href="#code-books"></a></h3>
<p>There is a function <code><a href="codebook.html">codebook</a></code> which produces a code book of an
  external data set or an internal "data.set" object. A codebook contains in a
  conveniently formatted way concise information about every variable in a data set,
  such as which value labels and missing values are defined and some univariate statistics.</p>
<p>An extended example of all these facilities is contained in the vignette "anes48",
  and in <code>demo(anes48)</code></p>
</div>

    </div>
    <div class="section level2">
    <h2 id="data-analysis">Data Analysis<a class="anchor" aria-label="anchor" href="#data-analysis"></a></h2>

<div class="section">
<h3 id="tables-and-data-frames-of-descriptive-statistics">Tables and Data Frames of Descriptive Statistics<a class="anchor" aria-label="anchor" href="#tables-and-data-frames-of-descriptive-statistics"></a></h3>
<p><code><a href="genTable.html">genTable</a></code> is a generalization of <code><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></code>:
  Instead of counts, also descriptive statistics like means or variances
  can be reported conditional on levels of factors. Also conditional
  percentages of a factor can be obtained using this function.</p>
<p>In addition an <code>Aggregate</code>
  function is provided, which has the same syntax as <code>genTable</code>, but
  gives a data frame of descriptive statistics instead of a <code>table</code>
  object.</p>
</div><p></p><div class="section">
<h3 id="per-subset-analysis">Per-Subset Analysis<a class="anchor" aria-label="anchor" href="#per-subset-analysis"></a></h3>
<p><code><a href="By.html">By</a></code> is a variant of the
  standard function <code><a href="https://rdrr.io/r/base/by.html" class="external-link">by</a></code>: Conditioning factors
  are specified by a formula and are
  obtained from the data frame the subsets of which are to be analysed.
  Therefore there is no need to <code><a href="https://rdrr.io/r/base/attach.html" class="external-link">attach</a></code> the data frame
  or to use the dollar operator.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="presentation-of-results-of-statistical-analysis">Presentation of Results of Statistical Analysis<a class="anchor" aria-label="anchor" href="#presentation-of-results-of-statistical-analysis"></a></h2>
    <p></p><div class="section">
<h3 id="publication-ready-tables-of-coefficients">Publication-Ready Tables of Coefficients<a class="anchor" aria-label="anchor" href="#publication-ready-tables-of-coefficients"></a></h3>


<p>Journals of the Political and Social Sciences usually require
that estimates of regression models are presented in the following
form:</p><div class="sourceCode"><pre><code>
    ==================================================
                    Model 1     Model 2     Model 3
    --------------------------------------------------
    Coefficients
    (Intercept)     30.628***    6.360***   28.566***
                    (7.409)     (1.252)     (7.355)
    pop15           -0.471**                -0.461**
                    (0.147)                 (0.145)
    pop75           -1.934                  -1.691
                    (1.041)                 (1.084)
    dpi                          0.001      -0.000
                                (0.001)     (0.001)
    ddpi                         0.529*      0.410*
                                (0.210)     (0.196)
    --------------------------------------------------
    Summaries
    R-squared         0.262       0.162       0.338
    adj. R-squared    0.230       0.126       0.280
    N                50          50          50
    ==================================================
</code></pre></div>

<p>Such tables of coefficient estimates can be produced
by <code><a href="mtable.html">mtable</a></code>. To see some of the possibilities of
this function, use <code>example(mtable)</code>.</p>
</div>
<div class="section">
<h3 id="latex-representation-of-r-objects">LaTeX Representation of R Objects<a class="anchor" aria-label="anchor" href="#latex-representation-of-r-objects"></a></h3>
<p>Output produced by <code><a href="mtable.html">mtable</a></code> can be transformed into
LaTeX tables by an appropriate method of the generic function
<code><a href="https://rdrr.io/r/utils/toLatex.html" class="external-link">toLatex</a></code> which is defined in the package
<code>utils</code>. In addition, <code>memisc</code> defines <code>toLatex</code> methods
for matrices and <code><a href="https://rdrr.io/r/stats/ftable.html" class="external-link">ftable</a></code> objects. Note that
results produced by <code><a href="genTable.html">genTable</a></code> can be coerced into
<code><a href="https://rdrr.io/r/stats/ftable.html" class="external-link">ftable</a></code> objects. Also, a default method
for the <code>toLatex</code> function is defined which coerces its
argument to a matrix and applies the matrix method of <code>toLatex</code>.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="programming">Programming<a class="anchor" aria-label="anchor" href="#programming"></a></h2>

<div class="section">
<h3 id="looping-over-variables">Looping over Variables<a class="anchor" aria-label="anchor" href="#looping-over-variables"></a></h3>
<p>Sometimes users want to contruct loops that run over variables rather than values.
  For example, if one wants to set the missing values of a battery of items.
  For this purpose, the package contains the function <code><a href="Foreach.html">foreach</a></code>.
  To set 8 and 9 as missing values for the items <code>knowledge1</code>,
  <code>knowledge2</code>, <code>knowledge3</code>, one can use</p><div class="sourceCode"><pre><code><span></span>
<span>    <span class="fu"><a href="../reference/Foreach.html">foreach</a></span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">knowledge1</span>,<span class="va">knowledge2</span>,<span class="va">knowledge3</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="../reference/value-filters.html">missing.values</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">8</span><span class="op">:</span><span class="fl">9</span><span class="op">)</span></span>
<span>  </span></code></pre></div>

</div>
<div class="section">
<h3 id="changing-names-of-objects-and-labels-of-factors">Changing Names of Objects and Labels of Factors<a class="anchor" aria-label="anchor" href="#changing-names-of-objects-and-labels-of-factors"></a></h3>
<p><code>R</code> already makes it possible to change the names of an object.
  Substituting the <code><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></code> or <code><a href="https://rdrr.io/r/base/dimnames.html" class="external-link">dimnames</a></code>
  can be done with some programming tricks. This package defines
  the function <code><a href="rename.html">rename</a></code>,
  <code><a href="dimrename.html">dimrename</a></code>, <code><a href="dimrename.html">colrename</a></code>, and <code><a href="dimrename.html">rowrename</a></code>
  that implement these tricks in a convenient way, so that programmers
  (like the author of this package) need not reinvent the weel in
  every instance of changing names of an object.</p>
</div>
<div class="section">
<h3 id="dimension-preserving-versions-of-lapply-and-sapply">Dimension-Preserving Versions of <code>lapply</code> and <code>sapply</code><a class="anchor" aria-label="anchor" href="#dimension-preserving-versions-of-lapply-and-sapply"></a></h3>
<p>If a function that is involved in a call to
  <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></code> returns a result an array or a matrix, the
  dimensional information gets lost. Also, if a list object to which
  <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></code> or <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></code> are applied
  have a dimension attribute, the result looses this information.
  The functions <code><a href="Sapply.html">Lapply</a></code> and
  <code><a href="Sapply.html">Sapply</a></code> defined in this package preserve such
  dimensional information.</p>
</div>
<div class="section">
<h3 id="combining-vectors-and-arrays-by-names">Combining Vectors and Arrays by Names<a class="anchor" aria-label="anchor" href="#combining-vectors-and-arrays-by-names"></a></h3>
<p>The generic function <code><a href="collect.html">collect</a></code> collects several objects of the
  same mode into one object, using their names, <code>rownames</code>,
  <code>colnames</code> and/or <code>dimnames</code>. There are methods for
  atomic vectors, arrays (including matrices), and data frames.
  For example</p><div class="sourceCode"><pre><code><span></span>
<span>  <span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a<span class="op">=</span><span class="fl">1</span>,b<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span>  <span class="va">b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a<span class="op">=</span><span class="fl">10</span>,c<span class="op">=</span><span class="fl">30</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/collect.html">collect</a></span><span class="op">(</span><span class="va">a</span>,<span class="va">b</span><span class="op">)</span></span>
<span>  </span></code></pre></div><p>leads to</p><div class="sourceCode"><pre><code>
     x  y
  a  1 10
  b  2 NA
  c NA 30
  </code></pre></div>

</div>
<div class="section">
<h3 id="reordering-of-matrices-and-arrays">Reordering of Matrices and Arrays<a class="anchor" aria-label="anchor" href="#reordering-of-matrices-and-arrays"></a></h3>
<p>The <code>memisc</code> package includes a <code><a href="reorder.array.html">reorder</a></code>
  method for arrays and matrices. For example, the matrix
  method by default reorders the rows of a matrix according the results
  of a function.</p>
</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martin Elff.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

