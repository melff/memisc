<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Manipulation of Data Sets — data.set manipulation • memisc</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Manipulation of Data Sets — data.set manipulation"><meta name="description" content='Like data frames, data.set objects have
  subset, unique,
  cbind, rbind,
  merge methods defined for them.
The semantics are basically the same as the methods defined
  for data frames in the base package, with the only difference
  that the return values are data.set objects.
  In fact, the methods described here are front-ends to the
  corresponding methods for data frames, which are constructed
  such that the "extra" information attached to variables within
  data.set objects, that is, to item objects.'><meta property="og:description" content='Like data frames, data.set objects have
  subset, unique,
  cbind, rbind,
  merge methods defined for them.
The semantics are basically the same as the methods defined
  for data frames in the base package, with the only difference
  that the return values are data.set objects.
  In fact, the methods described here are front-ends to the
  corresponding methods for data frames, which are constructed
  such that the "extra" information attached to variables within
  data.set objects, that is, to item objects.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">memisc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.99.31.8.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Survey items</h6></li>
    <li><a class="dropdown-item" href="../articles/items.html">Handling questionnaire items</a></li>
    <li><a class="dropdown-item" href="../articles/import.html">Importing data from SPSS and Stata</a></li>
    <li><a class="dropdown-item" href="../articles/anes48.html">Analysing the American National Election Study of 1948</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tables of summary statistics and model estimates</h6></li>
    <li><a class="dropdown-item" href="../articles/gentab.html">Generating Tables of Descriptive Statistics</a></li>
    <li><a class="dropdown-item" href="../articles/ftable-matrix.html">Combining flattened contingency tables (and other tables)</a></li>
    <li><a class="dropdown-item" href="../articles/mtable-html.html">Tables of model estimates</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/melff/memisc/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Manipulation of Data Sets</h1>

      <div class="d-none name"><code>dataset-manip.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Like data frames, <code>data.set</code> objects have
  <code><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></code>, <code><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></code>,
  <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></code>, <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></code>,
  <code><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></code> methods defined for them.</p>
<p>The semantics are basically the same as the methods defined
  for data frames in the <code>base</code> package, with the only difference
  that the return values are <code>data.set</code> objects.
  In fact, the methods described here are front-ends to the
  corresponding methods for data frames, which are constructed
  such that the "extra" information attached to variables within
  <code>data.set</code> objects, that is, to <code>item</code> objects.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'data.set'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">subset</span>, <span class="va">select</span>, drop <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'data.set'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">x</span>, incomparables <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'data.set'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">...</span>, deparse.level <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'data.set'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">...</span>, deparse.level <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'data.set,data.set'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'data.set,data.frame'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'data.frame,data.set'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-x-y">x,y<a class="anchor" aria-label="anchor" href="#arg-x-y"></a></dt>
<dd><p><code>data.set</code> objects. On of the arguments to
    <code>merge</code> may also be an object coercable into a data frame
    and the result still is a <code>data.set</code> object.</p></dd>

  <dt id="arg-subset">subset<a class="anchor" aria-label="anchor" href="#arg-subset"></a></dt>
<dd><p>a logical expression, used to select observations from
    the data set.</p></dd>

  <dt id="arg-select">select<a class="anchor" aria-label="anchor" href="#arg-select"></a></dt>
<dd><p>a vector with variablen names, which are retained in the
    data subset.</p></dd>

  <dt id="arg-drop">drop<a class="anchor" aria-label="anchor" href="#arg-drop"></a></dt>
<dd><p>logical; if <code>TRUE</code> and the result has only one
    column, the result is an item and not a data set.</p></dd>

  <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>for <code>subset</code>: a logical vector
    of the same length as the number of rows of the <code>data.set</code>
    and, optionally, a vector of variable names (tagged as <code>select</code>);
    for <code>unique</code>: further arguments, ignored;
    for <code>cbind</code>, <code>rbind</code>: objects coercable
    into data frames, with at least one being a <code>data.set</code>
    object;
    for <code>merge</code>: further arguments
    such as arguments tagged with <code>by</code>, <code>by.x</code>, <code>by.y</code>,
    etc. that specify the variables by which to merge
    the data sets of data frames <code>x</code> and <code>y</code>.</p></dd>

  <dt id="arg-incomparables">incomparables<a class="anchor" aria-label="anchor" href="#arg-incomparables"></a></dt>
<dd><p>a vector of values that cannot be compared. See
    <code><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></code>.</p></dd>

  <dt id="arg-deparse-level">deparse.level<a class="anchor" aria-label="anchor" href="#arg-deparse-level"></a></dt>
<dd><p>an argument retained for
    reasons of compatibility of the default methods
    of <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></code> and <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></code>.</p></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">ds1</span> <span class="op">&lt;-</span> <span class="fu"><a href="dataSets.html">data.set</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      b <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,each<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds2</span> <span class="op">&lt;-</span> <span class="fu"><a href="dataSets.html">data.set</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span><span class="op">:</span><span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      b <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span><span class="va">ds1</span>,<span class="op">{</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="annotations.html">description</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Example variable 'a'"</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="annotations.html">description</a></span><span class="op">(</span><span class="va">b</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Example variable 'b'"</span></span></span>
<span class="r-in"><span>  <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span><span class="va">ds2</span>,<span class="op">{</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="annotations.html">description</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Example variable 'a'"</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="annotations.html">description</a></span><span class="op">(</span><span class="va">b</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Example variable 'b'"</span></span></span>
<span class="r-in"><span>  <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">ds3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">ds1</span>,<span class="va">ds2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data set with 20 obs. of 2 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ a: Itvl. item  num  1 2 3 1 2 3 1 2 3 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ b: Itvl. item  int  1 1 1 2 2 2 3 3 3 4 ...</span>
<span class="r-in"><span><span class="fu"><a href="annotations.html">description</a></span><span class="op">(</span><span class="va">ds3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  a 'Example variable 'a''</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  b 'Example variable 'b''</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span><span class="va">ds1</span>,<span class="op">{</span></span></span>
<span class="r-in"><span>        <span class="va">c</span> <span class="op">&lt;-</span> <span class="va">a</span></span></span>
<span class="r-in"><span>        <span class="va">d</span> <span class="op">&lt;-</span> <span class="va">b</span></span></span>
<span class="r-in"><span>        <span class="fu"><a href="annotations.html">description</a></span><span class="op">(</span><span class="va">c</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Copy of variable 'a'"</span></span></span>
<span class="r-in"><span>        <span class="fu"><a href="annotations.html">description</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Copy of variable 'b'"</span></span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">a</span>,<span class="va">b</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">ds4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">ds1</span>,<span class="va">ds3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data set with 15 obs. of 4 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ds1.a: Itvl. item  int  1 2 3 1 2 3 1 2 3 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ds1.b: Itvl. item  int  1 1 1 2 2 2 3 3 3 4 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ds3.c: Itvl. item  int  1 2 3 1 2 3 1 2 3 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ ds3.d: Itvl. item  int  1 1 1 2 2 2 3 3 3 4 ...</span>
<span class="r-in"><span><span class="fu"><a href="annotations.html">description</a></span><span class="op">(</span><span class="va">ds4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ds1.a 'Example variable 'a''</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ds1.b 'Example variable 'b''</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ds3.c 'Copy of variable 'a''</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ds3.d 'Copy of variable 'b''</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ds5</span> <span class="op">&lt;-</span> <span class="fu"><a href="dataSets.html">data.set</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        c <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span></span>
<span class="r-in"><span>        d <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span>        <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span><span class="va">ds5</span>,<span class="op">{</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="annotations.html">description</a></span><span class="op">(</span><span class="va">c</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Example variable 'c'"</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="annotations.html">description</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Example variable 'd'"</span></span></span>
<span class="r-in"><span>  <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">ds6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">ds1</span>,<span class="va">ds5</span>,by.x<span class="op">=</span><span class="st">"a"</span>,by.y<span class="op">=</span><span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data set with 15 obs. of 3 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ a: Itvl. item  int  1 1 1 1 1 2 2 2 2 2 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ b: Itvl. item  int  1 4 3 2 5 1 4 3 2 5 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ d: Itvl. item  num  1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Note that the attributes of the left-hand variables</span></span></span>
<span class="r-in"><span><span class="co"># have priority.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="annotations.html">description</a></span><span class="op">(</span><span class="va">ds6</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  a 'Example variable 'a''</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  b 'Example variable 'b''</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  d 'Example variable 'd''</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martin Elff.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

