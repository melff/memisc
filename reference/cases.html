<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="cases allows to distinguish several cases defined logical
  conditions. It can be used to code these cases into a vector. The
  function can be considered as a multi-condition generalization of
  ifelse."><title>Distinguish between Cases Specified by Logical Conditions — cases • memisc</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Distinguish between Cases Specified by Logical Conditions — cases"><meta property="og:description" content="cases allows to distinguish several cases defined logical
  conditions. It can be used to code these cases into a vector. The
  function can be considered as a multi-condition generalization of
  ifelse."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">memisc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.99.31.7</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/anes48.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../articles/ftable-matrix.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../articles/items.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../articles/mtable-html.html">UNKNOWN TITLE</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/melff/memisc/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Distinguish between Cases Specified by Logical Conditions</h1>
      
      <div class="d-none name"><code>cases.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>cases</code> allows to distinguish several cases defined logical
  conditions. It can be used to code these cases into a vector. The
  function can be considered as a multi-condition generalization of
  <code><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cases</span><span class="op">(</span><span class="va">...</span>,check.xor<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"warn"</span>,<span class="st">"stop"</span>,<span class="st">"ignore"</span><span class="op">)</span>,</span>
<span>      .default<span class="op">=</span><span class="cn">NA</span>,.complete<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>      check.na<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"warn"</span>,<span class="st">"stop"</span>,<span class="st">"ignore"</span><span class="op">)</span>,</span>
<span>      na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>...</dt>
<dd><p>A sequence of logical expressions or assignment expressions containing
    logical expressions as "right hand side".</p></dd>

  <dt>check.xor</dt>
<dd><p>character (either <code>"warn"</code>, <code>"stop"</code>, or  <code>"ignore"</code>)
    or logical; if <code>TRUE</code> or equal to <code>"stop"</code> or 
    <code>"warn"</code>, 
    <code>cases</code> checks whether the case
    conditions are mutually exclusive. If this is not
    satisfied and <code>check.xor</code> equals <code>"warn"</code> (the default), a warning is shown,
    otherwise an error exception is raised.</p></dd>

  <dt>.default</dt>
<dd><p>a value to be used for unsatisfied conditions.</p></dd>

  <dt>.complete</dt>
<dd><p>logical, if <code>TRUE</code> an additional factor level is
    created for the unsatisfied conditions.</p></dd>

  <dt>check.na</dt>
<dd><p>character (either <code>"warn"</code>, <code>"stop"</code>, or  <code>"ignore"</code>)
    or logical; if <code>TRUE</code> or equal to <code>"stop"</code> or 
    <code>"warn"</code>, <code>cases</code> checks, whether any of the case
    conditions evaluates to <code>NA</code>.
    If that case, if <code>check.na</code> is <code>TRUE</code> or equals
    <code>"stop"</code> an error exception is raised, while if <code>check.na</code>
    equals <code>"warn"</code> (the default) a warning is shown.</p></dd>

  <dt>na.rm</dt>
<dd><p>a logical value; how to handle <code>NA</code>s (if they do not
    already lead to an error exception). If <code>FALSE</code> if <em>any</em> of the
    conditions evaluates to <code>NA</code>, the corresponding value of the
    result vector is <code>NA</code>. If <code>TRUE</code> (the default), the
    resulting vector or factor is <code>NA</code> only for instances where all
    conditions result in <code>NA</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>There are two distinct ways to use this function. Either the
  function can be used to construct a factor that represents
  several logical cases or it can be used to conditionally
  evaluate an expression in a manner similar to <code><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></code>.</p>
<p>For the first use, the <code>...</code> arguments have to be a series of
  logical expressions. <code>cases</code> then returns a factor
  with as many levels as logical expressions given as
  <code>...</code> arguments. The resulting factor will attain its
  first level if the first condition is TRUE, otherwise it will attain its
  second level if the second condition is TRUE, etc.
  The levels will be named after the conditions or, if name tags are
  attached to the logical expressions, after the tags of the expressions.
  Not that the logical expressions all need to evaluate to logical vectors
  of the same length, otherwise an error condition is raised.
  If <code>.complete</code> is <code>TRUE</code> then an additional factor level is
  created for the conditions not satisfied for any of the cases.</p>  
<p>For the second use, the <code>...</code> arguments have to be a series
  of assignment expression of the type <code>&lt;expression&gt; &lt;- &lt;logical expression&gt;</code>
  or <code>&lt;logical expression&gt; -&gt; &lt;expression&gt;</code>. For cases
  in which the first logical expression is TRUE, the result of first expression that
  appears on the other side of the assignment operator become elements of the
  vector returned by <code>cases</code>, for cases in which the second logical expression is TRUE,
  the result of the second expression that appears on the other side
  of the assignment operator become elements of the
  vector returned by <code>cases</code>, etc.
  For cases that do not satisfy any of the given conditions the value of
  the <code>.default</code> argument is used. 
  Note that the logical expressions also here all need to evaluate to logical
  vectors of the same length. The expressions on the other side of the
  assignment operator should also be either vectors of the same length
  and mode or should scalars of the same mode, otherwise unpredictable
  results may occur.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>If it is called with logical expressions as ... arguments,</p>
<p></p>
<p><code>cases</code> returns a factor, if it is called with
  assignment expressions the function returns a vector with the
  same mode as the results of the "assigned" expressions
  and with the same length as the logical conditions.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Examples of the first kind of usage of the function</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n<span class="op">=</span><span class="fl">20</span><span class="op">)</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n<span class="op">=</span><span class="fl">20</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">order</span>,<span class="va">df</span><span class="op">)</span>,<span class="op">]</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span><span class="va">df</span>,<span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">x1</span><span class="op">=</span><span class="fu">cases</span><span class="op">(</span><span class="va">x</span><span class="op">&gt;</span><span class="fl">0</span>,<span class="va">x</span><span class="op">&lt;=</span><span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">y1</span><span class="op">=</span><span class="fu">cases</span><span class="op">(</span><span class="va">y</span><span class="op">&gt;</span><span class="fl">0</span>,<span class="va">y</span><span class="op">&lt;=</span><span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">z1</span><span class="op">=</span><span class="fu">cases</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"Condition 1"</span><span class="op">=</span><span class="va">x</span><span class="op">&lt;</span><span class="fl">0</span>,</span></span>
<span class="r-in"><span>    <span class="st">"Condition 2"</span><span class="op">=</span><span class="va">y</span><span class="op">&lt;</span><span class="fl">0</span>,<span class="co"># only applies if x &gt;= 0</span></span></span>
<span class="r-in"><span>    <span class="st">"Condition 3"</span><span class="op">=</span><span class="cn">TRUE</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">z2</span><span class="op">=</span><span class="fu">cases</span><span class="op">(</span><span class="va">x</span><span class="op">&lt;</span><span class="fl">0</span>,<span class="op">(</span><span class="va">x</span><span class="op">&gt;=</span><span class="fl">0</span> <span class="op">&amp;</span> <span class="va">y</span> <span class="op">&lt;</span><span class="fl">0</span><span class="op">)</span>, <span class="op">(</span><span class="va">x</span><span class="op">&gt;=</span><span class="fl">0</span> <span class="op">&amp;</span> <span class="va">y</span> <span class="op">&gt;=</span><span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>conditions are not mutually exclusive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              x          y                z2          z1     y1     x1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  -1.58433500 -0.2502330             x &lt; 0 Condition 1 y &lt;= 0 x &lt;= 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 -1.05069663  0.3355279             x &lt; 0 Condition 1  y &gt; 0 x &lt;= 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18 -0.76549836  0.5578168             x &lt; 0 Condition 1  y &gt; 0 x &lt;= 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  -0.74471738  0.0131168             x &lt; 0 Condition 1  y &gt; 0 x &lt;= 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  -0.52495130 -0.6324275             x &lt; 0 Condition 1 y &lt;= 0 x &lt;= 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 -0.31171236  0.4732320             x &lt; 0 Condition 1  y &gt; 0 x &lt;= 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 -0.20643683  1.5218340             x &lt; 0 Condition 1  y &gt; 0 x &lt;= 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 -0.16373703 -0.4353638             x &lt; 0 Condition 1 y &lt;= 0 x &lt;= 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 -0.09139446 -0.9147120             x &lt; 0 Condition 1 y &lt;= 0 x &lt;= 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 -0.06540950 -0.7622394             x &lt; 0 Condition 1 y &lt;= 0 x &lt;= 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 -0.01893197  0.7754911             x &lt; 0 Condition 1  y &gt; 0 x &lt;= 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   0.01761226 -1.2570881  (x &gt;= 0 &amp; y &lt; 0) Condition 2 y &lt;= 0  x &gt; 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  0.03377661 -0.7466229  (x &gt;= 0 &amp; y &lt; 0) Condition 2 y &lt;= 0  x &gt; 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   0.11858673  0.2230045 (x &gt;= 0 &amp; y &gt;= 0) Condition 3  y &gt; 0  x &gt; 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   0.39943487 -1.7093307  (x &gt;= 0 &amp; y &lt; 0) Condition 2 y &lt;= 0  x &gt; 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   0.41783217  0.2974585 (x &gt;= 0 &amp; y &gt;= 0) Condition 3  y &gt; 0  x &gt; 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  0.57433219  0.8143471 (x &gt;= 0 &amp; y &gt;= 0) Condition 3  y &gt; 0  x &gt; 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   0.74317176  0.9117971 (x &gt;= 0 &amp; y &gt;= 0) Condition 3  y &gt; 0  x &gt; 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  0.74787793  1.2041386 (x &gt;= 0 &amp; y &gt;= 0) Condition 3  y &gt; 0  x &gt; 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   1.14344957 -0.8925749  (x &gt;= 0 &amp; y &lt; 0) Condition 2 y &lt;= 0  x &gt; 0</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">x1</span><span class="op">+</span><span class="va">y1</span>,data<span class="op">=</span><span class="va">df</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         y1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> x1       y &gt; 0 y &lt;= 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   x &gt; 0      5      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   x &lt;= 0     6      5</span>
<span class="r-in"><span><span class="va">dd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">df</span>,</span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">cases</span><span class="op">(</span><span class="va">x</span><span class="op">&lt;</span><span class="fl">0</span>,</span></span>
<span class="r-in"><span>            <span class="va">x</span><span class="op">&gt;=</span><span class="fl">0</span>,</span></span>
<span class="r-in"><span>            <span class="va">x</span><span class="op">&gt;</span><span class="fl">1</span>,</span></span>
<span class="r-in"><span>            check.xor<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="co"># let's be fussy</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in cases(x &lt; 0, x &gt;= 0, x &gt; 1, check.xor = TRUE) : </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   conditions are not mutually exclusive</span>
<span class="r-in"><span><span class="va">dd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">df</span>,</span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">cases</span><span class="op">(</span><span class="va">x</span><span class="op">&lt;</span><span class="fl">0</span>,<span class="va">x</span><span class="op">&gt;=</span><span class="fl">0</span>,<span class="va">x</span><span class="op">&gt;</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>conditions are not mutually exclusive</span>
<span class="r-in"><span><span class="fu"><a href="genTable.html">genTable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">~</span><span class="va">dd</span>,data<span class="op">=</span><span class="va">df</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> value for ‘dd’ not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># An example of the second kind of usage of the function:</span></span></span>
<span class="r-in"><span><span class="co"># A construction of a non-smooth function</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="va">fun</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">cases</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">x</span><span class="op">==</span><span class="fl">0</span>      <span class="op">-&gt;</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">&gt;</span> <span class="fl">1</span> <span class="op">-&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">&lt;=</span><span class="fl">1</span> <span class="op">-&gt;</span> <span class="va">x</span><span class="op">^</span><span class="fl">2</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="op">-</span><span class="fl">2</span>,to<span class="op">=</span><span class="fl">2</span>,length<span class="op">=</span><span class="fl">101</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu">fun</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">~</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Conditions are not mutually exclusive</span>
<span class="r-plt img"><img src="cases-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Demo of the new .default and .complete arguments</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from<span class="op">=</span><span class="op">-</span><span class="fl">2</span>,to<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">cases</span><span class="op">(</span>a <span class="op">=</span> <span class="va">x</span> <span class="op">&lt;</span> <span class="op">-</span><span class="fl">1</span>,</span></span>
<span class="r-in"><span>      b <span class="op">=</span> <span class="va">x</span> <span class="op">&gt;</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>      .complete <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] a      !(a|b) !(a|b) !(a|b) b     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: a b !(a|b)</span>
<span class="r-in"><span><span class="fu">cases</span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="op">-</span><span class="fl">1</span>,</span></span>
<span class="r-in"><span>      <span class="va">x</span> <span class="op">&gt;</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>      .complete <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] x &lt; -1            !(x &lt; -1 | x &gt; 1) !(x &lt; -1 | x &gt; 1) !(x &lt; -1 | x &gt; 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] x &gt; 1            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: x &lt; -1 x &gt; 1 !(x &lt; -1 | x &gt; 1)</span>
<span class="r-in"><span><span class="fu">cases</span><span class="op">(</span><span class="fl">1</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">&lt;</span> <span class="op">-</span><span class="fl">1</span>,</span></span>
<span class="r-in"><span>      <span class="fl">3</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op">&gt;</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>      .default <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 2 2 2 3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">threshhold</span> <span class="op">&lt;-</span> <span class="fl">5</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="cn">NaN</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">d1</span> <span class="op">&lt;-</span> <span class="fu">cases</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&gt;</span> <span class="va">threshhold</span> <span class="op">-&gt;</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&lt;=</span> <span class="va">threshhold</span> <span class="op">-&gt;</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>At least one logical condition results in missing values</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>1 NAs created</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">d2</span> <span class="op">&lt;-</span> <span class="fu">cases</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&gt;</span> <span class="va">threshhold</span> <span class="op">-&gt;</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&lt;=</span> <span class="va">threshhold</span> <span class="op">-&gt;</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>At least one logical condition results in missing values</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Conditions are not mutually exclusive</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Leads to missing values because some of the conditions result in missing</span></span></span>
<span class="r-in"><span><span class="co"># even though they could be 'captured'</span></span></span>
<span class="r-in"><span><span class="va">d3</span> <span class="op">&lt;-</span> <span class="fu">cases</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&gt;</span> <span class="va">threshhold</span> <span class="op">-&gt;</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&lt;=</span> <span class="va">threshhold</span> <span class="op">-&gt;</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  na.rm<span class="op">=</span><span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>At least one logical condition results in missing values</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Conditions are not mutually exclusive</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>1 NAs created</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">d4</span> <span class="op">&lt;-</span> <span class="fu">cases</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&gt;</span> <span class="va">threshhold</span> <span class="op">+</span><span class="fl">2</span> <span class="op">-&gt;</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&lt;=</span> <span class="va">threshhold</span> <span class="op">-&gt;</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  na.rm<span class="op">=</span><span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>At least one logical condition results in missing values</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Conditions are not mutually exclusive</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>3 NAs created</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">d</span>,<span class="va">d1</span>,<span class="va">d2</span>,<span class="va">d3</span>,<span class="va">d4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         d d1 d2 d3 d4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,]   1  2  2  2  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,]   2  2  2  2  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,]   3  2  2  2  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,]   4  2  2  2  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,]   5  2  2  2  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,]   6  1  1  1 NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,]   7  1  1  1 NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,]   8  1  1  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,]   9  1  1  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,]  10  1  1  1  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,] NaN NA  0 NA NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">cases</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&gt;</span> <span class="va">threshhold</span>,</span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&lt;=</span> <span class="va">threshhold</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>At least one logical condition results in missing values</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>1 NAs created</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] d &lt;= threshhold d &lt;= threshhold d &lt;= threshhold d &lt;= threshhold</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5] d &lt;= threshhold d &gt; threshhold  d &gt; threshhold  d &gt; threshhold </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] d &gt; threshhold  d &gt; threshhold  &lt;NA&gt;           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: d &gt; threshhold d &lt;= threshhold</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">cases</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&gt;</span> <span class="va">threshhold</span>,</span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&lt;=</span> <span class="va">threshhold</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>At least one logical condition results in missing values</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>conditions are not mutually exclusive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] d &lt;= threshhold d &lt;= threshhold d &lt;= threshhold d &lt;= threshhold</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5] d &lt;= threshhold d &gt; threshhold  d &gt; threshhold  d &gt; threshhold </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] d &gt; threshhold  d &gt; threshhold  is.na(d)       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: is.na(d) d &gt; threshhold d &lt;= threshhold</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">cases</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&gt;</span> <span class="va">threshhold</span>,</span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&lt;=</span> <span class="va">threshhold</span>,</span></span>
<span class="r-in"><span>  .complete<span class="op">=</span><span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>At least one logical condition results in missing values</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>1 NAs created</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] d &lt;= threshhold d &lt;= threshhold d &lt;= threshhold d &lt;= threshhold</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5] d &lt;= threshhold d &gt; threshhold  d &gt; threshhold  d &gt; threshhold </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] d &gt; threshhold  d &gt; threshhold  &lt;NA&gt;           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: d &gt; threshhold d &lt;= threshhold</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">cases</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&gt;</span> <span class="va">threshhold</span> <span class="op">+</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&lt;=</span> <span class="va">threshhold</span>,</span></span>
<span class="r-in"><span>  .complete<span class="op">=</span><span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>At least one logical condition results in missing values</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>1 NAs created</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] d &lt;= threshhold                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2] d &lt;= threshhold                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3] d &lt;= threshhold                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4] d &lt;= threshhold                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5] d &lt;= threshhold                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] !(d &gt; threshhold + 2 | d &lt;= threshhold)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] !(d &gt; threshhold + 2 | d &lt;= threshhold)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] d &gt; threshhold + 2                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] d &gt; threshhold + 2                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10] d &gt; threshhold + 2                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] &lt;NA&gt;                                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Levels: d &gt; threshhold + 2 ... !(d &gt; threshhold + 2 | d &lt;= threshhold)</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Martin Elff.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

