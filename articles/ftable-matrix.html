<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="memisc">
<title>Combining flattened contingency tables (and other tables) • memisc</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Combining flattened contingency tables (and other tables)">
<meta property="og:description" content="memisc">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">memisc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.99.31.8</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/anes48.html">Analysing the American National Election Study of 1948 with 'memisc'</a>
    <a class="dropdown-item" href="../articles/ftable-matrix.html">Combining flattened contingency tables (and other tables)</a>
    <a class="dropdown-item" href="../articles/items.html">Handling questionnaire items with 'memisc'</a>
    <a class="dropdown-item" href="../articles/mtable-html.html">A demonstration of showing 'mtable' results in HTML format</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/melff/memisc/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Combining flattened contingency tables (and other tables)</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/melff/memisc/blob/HEAD/../vignettes/ftable-matrix.Rmd" class="external-link"><code>../vignettes/ftable-matrix.Rmd</code></a></small>
      <div class="d-none name"><code>ftable-matrix.Rmd</code></div>
    </div>

    
    
<p>This vignette demonstrates how flattened contingency tables can be
combined into more complex tables. For starters, we create a few
contingendy tables.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tab.Class.Age</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="va">Freq</span><span class="op">~</span><span class="va">Class</span><span class="op">+</span><span class="va">Age</span>,data<span class="op">=</span><span class="va">Titanic</span><span class="op">)</span></span>
<span><span class="va">tab.Survived.Class.Age</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="va">Freq</span><span class="op">~</span><span class="va">Survived</span><span class="op">+</span><span class="va">Class</span><span class="op">+</span><span class="va">Age</span>,data<span class="op">=</span><span class="va">Titanic</span><span class="op">)</span></span>
<span><span class="va">tab.Survived.Class.Sex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="va">Freq</span><span class="op">~</span><span class="va">Survived</span><span class="op">+</span><span class="va">Class</span><span class="op">+</span><span class="va">Sex</span>,data<span class="op">=</span><span class="va">Titanic</span><span class="op">)</span></span>
<span><span class="va">tab.Survived.Class</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="va">Freq</span><span class="op">~</span><span class="va">Survived</span><span class="op">+</span><span class="va">Class</span>,data<span class="op">=</span><span class="va">Titanic</span><span class="op">)</span></span>
<span><span class="va">tab.Survived.Sex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="va">Freq</span><span class="op">~</span><span class="va">Survived</span><span class="op">+</span><span class="va">Sex</span>,data<span class="op">=</span><span class="va">Titanic</span><span class="op">)</span></span>
<span><span class="va">tab.Survived.Age</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="va">Freq</span><span class="op">~</span><span class="va">Survived</span><span class="op">+</span><span class="va">Age</span>,data<span class="op">=</span><span class="va">Titanic</span><span class="op">)</span></span>
<span><span class="va">tab.Survived</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="va">Freq</span><span class="op">~</span><span class="va">Survived</span>,data<span class="op">=</span><span class="va">Titanic</span><span class="op">)</span></span></code></pre></div>
<p>Then we load the <em>memisc</em> package:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://memisc.elff.eu" class="external-link">memisc</a></span><span class="op">)</span></span></code></pre></div>
<p>Next, we create a few flattened contingency tables:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">ftab.Survived.Age</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ftable.html" class="external-link">ftable</a></span><span class="op">(</span><span class="va">tab.Survived.Age</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>         Age Child Adult
Survived                
No              52  1438
Yes             57   654</code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">ftab.Survived.Sex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ftable.html" class="external-link">ftable</a></span><span class="op">(</span><span class="va">tab.Survived.Sex</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>         Sex Male Female
Survived                
No           1364    126
Yes           367    344</code></pre>
<p>Since these tables have the same row variables, we can combine them
columnwise:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">ftab.Survived.Age</span>,</span>
<span>      <span class="va">ftab.Survived.Sex</span><span class="op">)</span></span></code></pre></div>
<pre><code>         Age Child Adult  Sex Male Female 
Survived                                  
No              52  1438      1364    126 
Yes             57   654       367    344 
                                          </code></pre>
<p>We can even add a simple table of counts:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">ftab.Survived.Age</span>,</span>
<span>      <span class="va">ftab.Survived.Sex</span>,</span>
<span>      Total<span class="op">=</span><span class="va">tab.Survived</span><span class="op">)</span></span></code></pre></div>
<pre><code>         Age Child Adult  Sex Male Female   Total 
Survived                                          
No              52  1438      1364    126    1490 
Yes             57   654       367    344     711 
                                                  </code></pre>
<p>Of course, it is not enough to see such tables on screen, we also may
need them in a presentable format, such as LaTeX or HTML. For the latter
format we again have <code>format_html</code> and
<code>show_html</code>. To see how this works, we first look at the
individual <code>ftable</code>s:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/format_html.html">show_html</a></span><span class="op">(</span><span class="va">ftab.Survived.Age</span><span class="op">)</span></span></code></pre></div>
<style>
      table#ftable-1 {
         border-collapse: collapse; border-style: none; margin: 2ex auto;
      } 
      table#ftable-1 tr {
          border-style: none;
      } 
      table#ftable-1 td {
        padding-top: 3px; 
        padding-bottom: 3px; 
        padding-left: 0.5ex; 
        padding-right: 0.5ex; 
        margin: 0px; 
        margin-top: 0px;
        margin-bottom: 0px;
        border-style: none; 
        border-width: 0; 
      }
table#ftable-1 tr:nth-child(1){
     border-top: 2px solid;
}
table#ftable-1 tr:nth-child(2){
     border-bottom: 1px solid;
}
table#ftable-1 tr:nth-child(4){
     border-bottom: 2px solid;
}
table#ftable-1 tr:nth-child(1) td:nth-child(n+3){
     border-bottom: 1px solid;
}
table#ftable-1 td:nth-child(4),
table#ftable-1 td:nth-child(7){
         padding-left: 0px;
         padding-right: 0px;
         text-align: center; 
         width: .2ex;
         /*background-color: blue;*/
        }
table#ftable-1 td:nth-child(3),
table#ftable-1 td:nth-child(6){
         padding-left: 0.5ex;
         padding-right: 0px;
         text-align: right; 
         /*background-color: red;*/
        }
table#ftable-1 td:nth-child(5),
table#ftable-1 td:nth-child(8){
         padding-left: 0px;
         padding-right: 0.5ex;
         text-align: left; 
         /*background-color: green;*/
        } 
table#ftable-1 td:nth-child(n of .header){
         padding-left: 0.5ex;
         padding-right: 0.5ex;
         text-align: center; 
         /*background-color: gray;*/
        } 
</style>
<table class="table ftable" id="ftable-1">
<tr>
<td>
</td>
<td>
</td>
<td colspan="6" class="header">
Age
</td>
</tr>
<tr>
<td>
Survived
</td>
<td>
</td>
<td colspan="3" class="header">
Child
</td>
<td colspan="3" class="header">
Adult
</td>
</tr>
<tr>
<td>
No
</td>
<td>
</td>
<td>
52
</td>
<td>
</td>
<td>
</td>
<td>
1438
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Yes
</td>
<td>
</td>
<td>
57
</td>
<td>
</td>
<td>
</td>
<td>
654
</td>
<td>
</td>
<td>
</td>
</tr>
</table>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/format_html.html">show_html</a></span><span class="op">(</span><span class="va">ftab.Survived.Sex</span><span class="op">)</span></span></code></pre></div>
<style>
      table#ftable-2 {
         border-collapse: collapse; border-style: none; margin: 2ex auto;
      } 
      table#ftable-2 tr {
          border-style: none;
      } 
      table#ftable-2 td {
        padding-top: 3px; 
        padding-bottom: 3px; 
        padding-left: 0.5ex; 
        padding-right: 0.5ex; 
        margin: 0px; 
        margin-top: 0px;
        margin-bottom: 0px;
        border-style: none; 
        border-width: 0; 
      }
table#ftable-2 tr:nth-child(1){
     border-top: 2px solid;
}
table#ftable-2 tr:nth-child(2){
     border-bottom: 1px solid;
}
table#ftable-2 tr:nth-child(4){
     border-bottom: 2px solid;
}
table#ftable-2 tr:nth-child(1) td:nth-child(n+3){
     border-bottom: 1px solid;
}
table#ftable-2 td:nth-child(4),
table#ftable-2 td:nth-child(7){
         padding-left: 0px;
         padding-right: 0px;
         text-align: center; 
         width: .2ex;
         /*background-color: blue;*/
        }
table#ftable-2 td:nth-child(3),
table#ftable-2 td:nth-child(6){
         padding-left: 0.5ex;
         padding-right: 0px;
         text-align: right; 
         /*background-color: red;*/
        }
table#ftable-2 td:nth-child(5),
table#ftable-2 td:nth-child(8){
         padding-left: 0px;
         padding-right: 0.5ex;
         text-align: left; 
         /*background-color: green;*/
        } 
table#ftable-2 td:nth-child(n of .header){
         padding-left: 0.5ex;
         padding-right: 0.5ex;
         text-align: center; 
         /*background-color: gray;*/
        } 
</style>
<table class="table ftable" id="ftable-2">
<tr>
<td>
</td>
<td>
</td>
<td colspan="6" class="header">
Sex
</td>
</tr>
<tr>
<td>
Survived
</td>
<td>
</td>
<td colspan="3" class="header">
Male
</td>
<td colspan="3" class="header">
Female
</td>
</tr>
<tr>
<td>
No
</td>
<td>
</td>
<td>
1364
</td>
<td>
</td>
<td>
</td>
<td>
126
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Yes
</td>
<td>
</td>
<td>
367
</td>
<td>
</td>
<td>
</td>
<td>
344
</td>
<td>
</td>
<td>
</td>
</tr>
</table>
<p>… and then at their combination</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/format_html.html">show_html</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">ftab.Survived.Age</span>,</span>
<span>      <span class="va">ftab.Survived.Sex</span>,</span>
<span>      Total<span class="op">=</span><span class="va">tab.Survived</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<style>
      table#ftab-matrix-3 {
         border-collapse: collapse; border-style: none; margin: 2ex auto;
      } 
      table#ftab-matrix-3 tr {
          border-style: none;
      } 
      table#ftab-matrix-3 td {
        padding-top: 3px; 
        padding-bottom: 3px; 
        padding-left: 0.5ex; 
        padding-right: 0.5ex; 
        margin: 0px; 
        margin-top: 0px;
        margin-bottom: 0px;
        border-style: none; 
        border-width: 0; 
      }
table#ftab-matrix-3 tr:nth-child(1){
     border-top: 2px solid;
}
table#ftab-matrix-3 tr:nth-child(2){
     border-bottom: 1px solid;
}
table#ftab-matrix-3 tr:nth-child(4){
     border-bottom: 2px solid;
}
table#ftab-matrix-3 td:nth-child(n of .header) {
     border-bottom: 1px solid;
}
table#ftab-matrix-3 td:nth-child(4),
table#ftab-matrix-3 td:nth-child(7),
table#ftab-matrix-3 td:nth-child(10),
table#ftab-matrix-3 td:nth-child(13),
table#ftab-matrix-3 td:nth-child(16){
         padding-left: 0px;
         padding-right: 0px;
         text-align: center; 
         width: .2ex;
         /*background-color: blue;*/
        }
table#ftab-matrix-3 td:nth-child(3),
table#ftab-matrix-3 td:nth-child(6),
table#ftab-matrix-3 td:nth-child(9),
table#ftab-matrix-3 td:nth-child(12),
table#ftab-matrix-3 td:nth-child(15){
         padding-left: 0.5ex;
         padding-right: 0px;
         text-align: right; 
         /*background-color: red;*/
        }
table#ftab-matrix-3 td:nth-child(5),
table#ftab-matrix-3 td:nth-child(8),
table#ftab-matrix-3 td:nth-child(11),
table#ftab-matrix-3 td:nth-child(14),
table#ftab-matrix-3 td:nth-child(17){
         padding-left: 0px;
         padding-right: 0.5ex;
         text-align: left; 
         /*background-color: green;*/
        } 
table#ftab-matrix-3 td:nth-child(n of .header){
         padding-left: 0.5ex;
         padding-right: 0.5ex;
         text-align: center; 
         /*background-color: gray;*/
        } 
</style>
<table class="table ftable" id="ftab-matrix-3">
<tr>
<td>
</td>
<td>
</td>
<td colspan="6" class="header">
Age
</td>
<td colspan="6" class="header">
Sex
</td>
<td colspan="3">
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td colspan="3" class="header">
Child
</td>
<td colspan="3" class="header">
Adult
</td>
<td colspan="3" class="header">
Male
</td>
<td colspan="3" class="header">
Female
</td>
<td colspan="3" class="header">
Total
</td>
</tr>
<tr>
<td>
Survived
</td>
<td>
No
</td>
<td>
52
</td>
<td>
</td>
<td>
</td>
<td>
1438
</td>
<td>
</td>
<td>
</td>
<td>
1364
</td>
<td>
</td>
<td>
</td>
<td>
126
</td>
<td>
</td>
<td>
</td>
<td>
1490
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Yes
</td>
<td>
57
</td>
<td>
</td>
<td>
</td>
<td>
654
</td>
<td>
</td>
<td>
</td>
<td>
367
</td>
<td>
</td>
<td>
</td>
<td>
344
</td>
<td>
</td>
<td>
</td>
<td>
711
</td>
<td>
</td>
<td>
</td>
</tr>
</table>
<p>To make, in “knitr”, the creation of HTML-versions automatic one can
use the following little trick:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">knit_print.ftable_matrix</span> <span class="op">&lt;-</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span>,<span class="va">options</span>,<span class="va">...</span><span class="op">)</span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/asis_output.html" class="external-link">asis_output</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/format_html.html">format_html</a></span><span class="op">(</span><span class="va">x</span>,</span>
<span>                digits<span class="op">=</span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">options</span><span class="op">$</span><span class="va">ftable.digits</span><span class="op">)</span><span class="op">)</span></span>
<span>                          <span class="va">options</span><span class="op">$</span><span class="va">ftable.digits</span></span>
<span>                       <span class="kw">else</span> <span class="fl">0</span>,</span>
<span>                <span class="va">...</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Now we do not need to call <code>show_html</code> while using
“knitr”:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">ftab.Survived.Age</span>,</span>
<span>      <span class="va">ftab.Survived.Sex</span>,</span>
<span>      Total<span class="op">=</span><span class="va">tab.Survived</span><span class="op">)</span></span></code></pre></div>
<style>
      table#ftab-matrix-3 {
         border-collapse: collapse; border-style: none; margin: 2ex auto;
      } 
      table#ftab-matrix-3 tr {
          border-style: none;
      } 
      table#ftab-matrix-3 td {
        padding-top: 3px; 
        padding-bottom: 3px; 
        padding-left: 0.5ex; 
        padding-right: 0.5ex; 
        margin: 0px; 
        margin-top: 0px;
        margin-bottom: 0px;
        border-style: none; 
        border-width: 0; 
      }
table#ftab-matrix-3 tr:nth-child(1){
     border-top: 2px solid;
}
table#ftab-matrix-3 tr:nth-child(2){
     border-bottom: 1px solid;
}
table#ftab-matrix-3 tr:nth-child(4){
     border-bottom: 2px solid;
}
table#ftab-matrix-3 td:nth-child(n of .header) {
     border-bottom: 1px solid;
}
table#ftab-matrix-3 td:nth-child(4),
table#ftab-matrix-3 td:nth-child(7),
table#ftab-matrix-3 td:nth-child(10),
table#ftab-matrix-3 td:nth-child(13),
table#ftab-matrix-3 td:nth-child(16){
         padding-left: 0px;
         padding-right: 0px;
         text-align: center; 
         width: .2ex;
         /*background-color: blue;*/
        }
table#ftab-matrix-3 td:nth-child(3),
table#ftab-matrix-3 td:nth-child(6),
table#ftab-matrix-3 td:nth-child(9),
table#ftab-matrix-3 td:nth-child(12),
table#ftab-matrix-3 td:nth-child(15){
         padding-left: 0.5ex;
         padding-right: 0px;
         text-align: right; 
         /*background-color: red;*/
        }
table#ftab-matrix-3 td:nth-child(5),
table#ftab-matrix-3 td:nth-child(8),
table#ftab-matrix-3 td:nth-child(11),
table#ftab-matrix-3 td:nth-child(14),
table#ftab-matrix-3 td:nth-child(17){
         padding-left: 0px;
         padding-right: 0.5ex;
         text-align: left; 
         /*background-color: green;*/
        } 
table#ftab-matrix-3 td:nth-child(n of .header){
         padding-left: 0.5ex;
         padding-right: 0.5ex;
         text-align: center; 
         /*background-color: gray;*/
        } 
</style>
<table class="table ftable" id="ftab-matrix-3">
<tr>
<td>
</td>
<td>
</td>
<td colspan="6" class="header">
Age
</td>
<td colspan="6" class="header">
Sex
</td>
<td colspan="3">
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td colspan="3" class="header">
Child
</td>
<td colspan="3" class="header">
Adult
</td>
<td colspan="3" class="header">
Male
</td>
<td colspan="3" class="header">
Female
</td>
<td colspan="3" class="header">
Total
</td>
</tr>
<tr>
<td>
Survived
</td>
<td>
No
</td>
<td>
52
</td>
<td>
</td>
<td>
</td>
<td>
1438
</td>
<td>
</td>
<td>
</td>
<td>
1364
</td>
<td>
</td>
<td>
</td>
<td>
126
</td>
<td>
</td>
<td>
</td>
<td>
1490
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Yes
</td>
<td>
57
</td>
<td>
</td>
<td>
</td>
<td>
654
</td>
<td>
</td>
<td>
</td>
<td>
367
</td>
<td>
</td>
<td>
</td>
<td>
344
</td>
<td>
</td>
<td>
</td>
<td>
711
</td>
<td>
</td>
<td>
</td>
</tr>
</table>
<p>This can be undone by removing the method function of
<code>knit_print</code>:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">knit_print.ftable_matrix</span><span class="op">)</span></span></code></pre></div>
<p>For <code>show_html</code> and <code>toLatex</code> there are some
variants in how the variable names are positioned, for example:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/format_html.html">show_html</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">ftab.Survived.Age</span>,</span>
<span>      <span class="va">ftab.Survived.Sex</span>,</span>
<span>      Total<span class="op">=</span><span class="va">tab.Survived</span><span class="op">)</span>,</span>
<span>  varinfront<span class="op">=</span><span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<style>
      table#ftab-matrix-3 {
         border-collapse: collapse; border-style: none; margin: 2ex auto;
      } 
      table#ftab-matrix-3 tr {
          border-style: none;
      } 
      table#ftab-matrix-3 td {
        padding-top: 3px; 
        padding-bottom: 3px; 
        padding-left: 0.5ex; 
        padding-right: 0.5ex; 
        margin: 0px; 
        margin-top: 0px;
        margin-bottom: 0px;
        border-style: none; 
        border-width: 0; 
      }
table#ftab-matrix-3 tr:nth-child(1){
     border-top: 2px solid;
}
table#ftab-matrix-3 tr:nth-child(2){
     border-bottom: 1px solid;
}
table#ftab-matrix-3 tr:nth-child(4){
     border-bottom: 2px solid;
}
table#ftab-matrix-3 td:nth-child(n of .header) {
     border-bottom: 1px solid;
}
table#ftab-matrix-3 td:nth-child(3),
table#ftab-matrix-3 td:nth-child(6),
table#ftab-matrix-3 td:nth-child(9),
table#ftab-matrix-3 td:nth-child(12),
table#ftab-matrix-3 td:nth-child(15){
         padding-left: 0px;
         padding-right: 0px;
         text-align: center; 
         width: .2ex;
         /*background-color: blue;*/
        }
table#ftab-matrix-3 td:nth-child(2),
table#ftab-matrix-3 td:nth-child(5),
table#ftab-matrix-3 td:nth-child(8),
table#ftab-matrix-3 td:nth-child(11),
table#ftab-matrix-3 td:nth-child(14){
         padding-left: 0.5ex;
         padding-right: 0px;
         text-align: right; 
         /*background-color: red;*/
        }
table#ftab-matrix-3 td:nth-child(4),
table#ftab-matrix-3 td:nth-child(7),
table#ftab-matrix-3 td:nth-child(10),
table#ftab-matrix-3 td:nth-child(13),
table#ftab-matrix-3 td:nth-child(16){
         padding-left: 0px;
         padding-right: 0.5ex;
         text-align: left; 
         /*background-color: green;*/
        } 
table#ftab-matrix-3 td:nth-child(n of .header){
         padding-left: 0.5ex;
         padding-right: 0.5ex;
         text-align: center; 
         /*background-color: gray;*/
        } 
</style>
<table class="table ftable" id="ftab-matrix-3">
<tr>
<td>
</td>
<td colspan="6" class="header">
Age
</td>
<td colspan="6" class="header">
Sex
</td>
<td colspan="3">
</td>
</tr>
<tr>
<td>
Survived
</td>
<td colspan="3" class="header">
Child
</td>
<td colspan="3" class="header">
Adult
</td>
<td colspan="3" class="header">
Male
</td>
<td colspan="3" class="header">
Female
</td>
<td colspan="3" class="header">
Total
</td>
</tr>
<tr>
<td>
No
</td>
<td>
52
</td>
<td>
</td>
<td>
</td>
<td>
1438
</td>
<td>
</td>
<td>
</td>
<td>
1364
</td>
<td>
</td>
<td>
</td>
<td>
126
</td>
<td>
</td>
<td>
</td>
<td>
1490
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Yes
</td>
<td>
57
</td>
<td>
</td>
<td>
</td>
<td>
654
</td>
<td>
</td>
<td>
</td>
<td>
367
</td>
<td>
</td>
<td>
</td>
<td>
344
</td>
<td>
</td>
<td>
</td>
<td>
711
</td>
<td>
</td>
<td>
</td>
</tr>
</table>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/format_html.html">show_html</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">ftab.Survived.Age</span>,</span>
<span>      <span class="va">ftab.Survived.Sex</span>,</span>
<span>      Total<span class="op">=</span><span class="va">tab.Survived</span><span class="op">)</span>,</span>
<span>  varontop<span class="op">=</span><span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code>Incremented col_sums j=1 varontop=0 max.l.cv=1 col_sums=1</code></pre>
<p>integer(0)</p>
<pre><code>Incremented col_sums j=2 varontop=0 max.l.cv=1 col_sums=8</code></pre>
[1] 3 6
<style>
      table#ftab-matrix-3 {
         border-collapse: collapse; border-style: none; margin: 2ex auto;
      } 
      table#ftab-matrix-3 tr {
          border-style: none;
      } 
      table#ftab-matrix-3 td {
        padding-top: 3px; 
        padding-bottom: 3px; 
        padding-left: 0.5ex; 
        padding-right: 0.5ex; 
        margin: 0px; 
        margin-top: 0px;
        margin-bottom: 0px;
        border-style: none; 
        border-width: 0; 
      }
table#ftab-matrix-3 tr:nth-child(1){
     border-top: 2px solid;
}
table#ftab-matrix-3 tr:nth-child(1){
     border-bottom: 1px solid;
}
table#ftab-matrix-3 tr:nth-child(3){
     border-bottom: 2px solid;
}
table#ftab-matrix-3 td:nth-child(n of .header) {
     border-bottom: 1px solid;
}
table#ftab-matrix-3 td:nth-child(5),
table#ftab-matrix-3 td:nth-child(8),
table#ftab-matrix-3 td:nth-child(12),
table#ftab-matrix-3 td:nth-child(15),
table#ftab-matrix-3 td:nth-child(18){
         padding-left: 0px;
         padding-right: 0px;
         text-align: center; 
         width: .2ex;
         /*background-color: blue;*/
        }
table#ftab-matrix-3 td:nth-child(4),
table#ftab-matrix-3 td:nth-child(7),
table#ftab-matrix-3 td:nth-child(11),
table#ftab-matrix-3 td:nth-child(14),
table#ftab-matrix-3 td:nth-child(17){
         padding-left: 0.5ex;
         padding-right: 0px;
         text-align: right; 
         /*background-color: red;*/
        }
table#ftab-matrix-3 td:nth-child(6),
table#ftab-matrix-3 td:nth-child(9),
table#ftab-matrix-3 td:nth-child(13),
table#ftab-matrix-3 td:nth-child(16),
table#ftab-matrix-3 td:nth-child(19){
         padding-left: 0px;
         padding-right: 0.5ex;
         text-align: left; 
         /*background-color: green;*/
        } 
table#ftab-matrix-3 td:nth-child(n of .header){
         padding-left: 0.5ex;
         padding-right: 0.5ex;
         text-align: center; 
         /*background-color: gray;*/
        } 
</style>
<table class="table ftable" id="ftab-matrix-3">
<tr>
<td>
</td>
<td>
</td>
<td class="header">
Age:
</td>
<td colspan="3" class="header">
Child
</td>
<td colspan="3" class="header">
Adult
</td>
<td class="header">
Sex:
</td>
<td colspan="3" class="header">
Male
</td>
<td colspan="3" class="header">
Female
</td>
<td colspan="3" class="header">
Total
</td>
</tr>
<tr>
<td>
Survived
</td>
<td>
No
</td>
<td>
</td>
<td>
52
</td>
<td>
</td>
<td>
</td>
<td>
1438
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
1364
</td>
<td>
</td>
<td>
</td>
<td>
126
</td>
<td>
</td>
<td>
</td>
<td>
1490
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Yes
</td>
<td>
</td>
<td>
57
</td>
<td>
</td>
<td>
</td>
<td>
654
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
367
</td>
<td>
</td>
<td>
</td>
<td>
344
</td>
<td>
</td>
<td>
</td>
<td>
711
</td>
<td>
</td>
<td>
</td>
</tr>
</table>
<p>Of course it is also possible to combine flat contingency tables
rowwise:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ftab.Age.Survived</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ftable.html" class="external-link">ftable</a></span><span class="op">(</span><span class="va">tab.Survived.Age</span>,col.vars<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">ftab.Sex.Survived</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ftable.html" class="external-link">ftable</a></span><span class="op">(</span><span class="va">tab.Survived.Sex</span>,col.vars<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">ftab.Class.Survived</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ftable.html" class="external-link">ftable</a></span><span class="op">(</span><span class="va">tab.Survived.Class</span>,col.vars<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span></span>
<span>  <span class="va">ftab.Age.Survived</span>,</span>
<span>  <span class="va">ftab.Sex.Survived</span>,</span>
<span>  <span class="va">ftab.Class.Survived</span>,</span>
<span>  Total<span class="op">=</span><span class="va">tab.Survived</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code>       Survived   No Yes 
Age                      
Child             52  57 
Adult           1438 654 
                         
Sex                      
Male            1364 367 
Female           126 344 
                         
Class                    
1st              122 203 
2nd              167 118 
3rd              528 178 
Crew             673 212 
                         
                         
Total           1490 711 
                         </code></pre>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/format_html.html">show_html</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span></span>
<span>    <span class="va">ftab.Age.Survived</span>,</span>
<span>    <span class="va">ftab.Sex.Survived</span>,</span>
<span>    <span class="va">ftab.Class.Survived</span>,</span>
<span>    Total<span class="op">=</span><span class="va">tab.Survived</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<style>
      table#ftab-matrix-3 {
         border-collapse: collapse; border-style: none; margin: 2ex auto;
      } 
      table#ftab-matrix-3 tr {
          border-style: none;
      } 
      table#ftab-matrix-3 td {
        padding-top: 3px; 
        padding-bottom: 3px; 
        padding-left: 0.5ex; 
        padding-right: 0.5ex; 
        margin: 0px; 
        margin-top: 0px;
        margin-bottom: 0px;
        border-style: none; 
        border-width: 0; 
      }
table#ftab-matrix-3 tr:nth-child(1){
     border-top: 2px solid;
}
table#ftab-matrix-3 tr:nth-child(2),
table#ftab-matrix-3 tr:nth-child(4),
table#ftab-matrix-3 tr:nth-child(6),
table#ftab-matrix-3 tr:nth-child(10),
table#ftab-matrix-3 tr:nth-child(11){
     border-bottom: 1px solid;
}
table#ftab-matrix-3 tr:nth-child(11){
     border-bottom: 2px solid;
}
table#ftab-matrix-3 td:nth-child(n of .header) {
     border-bottom: 1px solid;
}
table#ftab-matrix-3 td:nth-child(4),
table#ftab-matrix-3 td:nth-child(7){
         padding-left: 0px;
         padding-right: 0px;
         text-align: center; 
         width: .2ex;
         /*background-color: blue;*/
        }
table#ftab-matrix-3 td:nth-child(3),
table#ftab-matrix-3 td:nth-child(6){
         padding-left: 0.5ex;
         padding-right: 0px;
         text-align: right; 
         /*background-color: red;*/
        }
table#ftab-matrix-3 td:nth-child(5),
table#ftab-matrix-3 td:nth-child(8){
         padding-left: 0px;
         padding-right: 0.5ex;
         text-align: left; 
         /*background-color: green;*/
        } 
table#ftab-matrix-3 td:nth-child(n of .header){
         padding-left: 0.5ex;
         padding-right: 0.5ex;
         text-align: center; 
         /*background-color: gray;*/
        } 
</style>
<table class="table ftable" id="ftab-matrix-3">
<tr>
<td>
</td>
<td>
</td>
<td colspan="6" class="header">
Survived
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td colspan="3" class="header">
No
</td>
<td colspan="3" class="header">
Yes
</td>
</tr>
<tr>
<td>
Age
</td>
<td>
Child
</td>
<td>
52
</td>
<td>
</td>
<td>
</td>
<td>
57
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Adult
</td>
<td>
1438
</td>
<td>
</td>
<td>
</td>
<td>
654
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Sex
</td>
<td>
Male
</td>
<td>
1364
</td>
<td>
</td>
<td>
</td>
<td>
367
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Female
</td>
<td>
126
</td>
<td>
</td>
<td>
</td>
<td>
344
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Class
</td>
<td>
1st
</td>
<td>
122
</td>
<td>
</td>
<td>
</td>
<td>
203
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
2nd
</td>
<td>
167
</td>
<td>
</td>
<td>
</td>
<td>
118
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
3rd
</td>
<td>
528
</td>
<td>
</td>
<td>
</td>
<td>
178
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Crew
</td>
<td>
673
</td>
<td>
</td>
<td>
</td>
<td>
212
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Total
</td>
<td>
</td>
<td>
1490
</td>
<td>
</td>
<td>
</td>
<td>
711
</td>
<td>
</td>
<td>
</td>
</tr>
</table>
<p>It is also possible to create the <code>ftable</code>s from tables of
percentages or generic tables (created with <code>genTable</code>)
etc.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ptab.Survived.Age</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/percentages.html">percentages</a></span><span class="op">(</span><span class="va">Survived</span><span class="op">~</span><span class="va">Age</span>,data<span class="op">=</span><span class="va">Titanic</span><span class="op">)</span></span>
<span><span class="va">ptab.Survived.Sex</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/percentages.html">percentages</a></span><span class="op">(</span><span class="va">Survived</span><span class="op">~</span><span class="va">Sex</span>,data<span class="op">=</span><span class="va">Titanic</span><span class="op">)</span></span>
<span><span class="va">ptab.Survived.Class</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/percentages.html">percentages</a></span><span class="op">(</span><span class="va">Survived</span><span class="op">~</span><span class="va">Class</span>,data<span class="op">=</span><span class="va">Titanic</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fptab.Age.Survived</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ftable.html" class="external-link">ftable</a></span><span class="op">(</span><span class="va">ptab.Survived.Age</span>,col.vars<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">fptab.Sex.Survived</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ftable.html" class="external-link">ftable</a></span><span class="op">(</span><span class="va">ptab.Survived.Sex</span>,col.vars<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">fptab.Class.Survived</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ftable.html" class="external-link">ftable</a></span><span class="op">(</span><span class="va">ptab.Survived.Class</span>,col.vars<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/format_html.html">show_html</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span></span>
<span>    <span class="va">fptab.Age.Survived</span>,</span>
<span>    <span class="va">fptab.Sex.Survived</span>,</span>
<span>    <span class="va">fptab.Class.Survived</span></span>
<span>  <span class="op">)</span>,</span>
<span>  digits<span class="op">=</span><span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
<style>
      table#ftab-matrix-3 {
         border-collapse: collapse; border-style: none; margin: 2ex auto;
      } 
      table#ftab-matrix-3 tr {
          border-style: none;
      } 
      table#ftab-matrix-3 td {
        padding-top: 3px; 
        padding-bottom: 3px; 
        padding-left: 0.5ex; 
        padding-right: 0.5ex; 
        margin: 0px; 
        margin-top: 0px;
        margin-bottom: 0px;
        border-style: none; 
        border-width: 0; 
      }
table#ftab-matrix-3 tr:nth-child(1){
     border-top: 2px solid;
}
table#ftab-matrix-3 tr:nth-child(2),
table#ftab-matrix-3 tr:nth-child(4),
table#ftab-matrix-3 tr:nth-child(6),
table#ftab-matrix-3 tr:nth-child(10){
     border-bottom: 1px solid;
}
table#ftab-matrix-3 tr:nth-child(10){
     border-bottom: 2px solid;
}
table#ftab-matrix-3 td:nth-child(n of .header) {
     border-bottom: 1px solid;
}
table#ftab-matrix-3 td:nth-child(4),
table#ftab-matrix-3 td:nth-child(7){
         padding-left: 0px;
         padding-right: 0px;
         text-align: center; 
         width: .2ex;
         /*background-color: blue;*/
        }
table#ftab-matrix-3 td:nth-child(3),
table#ftab-matrix-3 td:nth-child(6){
         padding-left: 0.5ex;
         padding-right: 0px;
         text-align: right; 
         /*background-color: red;*/
        }
table#ftab-matrix-3 td:nth-child(5),
table#ftab-matrix-3 td:nth-child(8){
         padding-left: 0px;
         padding-right: 0.5ex;
         text-align: left; 
         /*background-color: green;*/
        } 
table#ftab-matrix-3 td:nth-child(n of .header){
         padding-left: 0.5ex;
         padding-right: 0.5ex;
         text-align: center; 
         /*background-color: gray;*/
        } 
</style>
<table class="table ftable" id="ftab-matrix-3">
<tr>
<td>
</td>
<td>
</td>
<td colspan="6" class="header">
Survived
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td colspan="3" class="header">
No
</td>
<td colspan="3" class="header">
Yes
</td>
</tr>
<tr>
<td>
Age
</td>
<td>
Child
</td>
<td>
47
</td>
<td>
.
</td>
<td>
7
</td>
<td>
52
</td>
<td>
.
</td>
<td>
3
</td>
</tr>
<tr>
<td>
</td>
<td>
Adult
</td>
<td>
68
</td>
<td>
.
</td>
<td>
7
</td>
<td>
31
</td>
<td>
.
</td>
<td>
3
</td>
</tr>
<tr>
<td>
Sex
</td>
<td>
Male
</td>
<td>
78
</td>
<td>
.
</td>
<td>
8
</td>
<td>
21
</td>
<td>
.
</td>
<td>
2
</td>
</tr>
<tr>
<td>
</td>
<td>
Female
</td>
<td>
26
</td>
<td>
.
</td>
<td>
8
</td>
<td>
73
</td>
<td>
.
</td>
<td>
2
</td>
</tr>
<tr>
<td>
Class
</td>
<td>
1st
</td>
<td>
37
</td>
<td>
.
</td>
<td>
5
</td>
<td>
62
</td>
<td>
.
</td>
<td>
5
</td>
</tr>
<tr>
<td>
</td>
<td>
2nd
</td>
<td>
58
</td>
<td>
.
</td>
<td>
6
</td>
<td>
41
</td>
<td>
.
</td>
<td>
4
</td>
</tr>
<tr>
<td>
</td>
<td>
3rd
</td>
<td>
74
</td>
<td>
.
</td>
<td>
8
</td>
<td>
25
</td>
<td>
.
</td>
<td>
2
</td>
</tr>
<tr>
<td>
</td>
<td>
Crew
</td>
<td>
76
</td>
<td>
.
</td>
<td>
0
</td>
<td>
24
</td>
<td>
.
</td>
<td>
0
</td>
</tr>
</table>
<p>It is also possible to combine <code>rbind</code> and
<code>cbind</code>:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tab.Age</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="va">Freq</span><span class="op">~</span><span class="va">Age</span>,data<span class="op">=</span><span class="va">Titanic</span><span class="op">)</span></span>
<span><span class="va">tab.Sex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="va">Freq</span><span class="op">~</span><span class="va">Sex</span>,data<span class="op">=</span><span class="va">Titanic</span><span class="op">)</span></span>
<span><span class="va">tab.Class</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="va">Freq</span><span class="op">~</span><span class="va">Class</span>,data<span class="op">=</span><span class="va">Titanic</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="../reference/format_html.html">show_html</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">fptab.Age.Survived</span>,Total<span class="op">=</span><span class="va">tab.Age</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">fptab.Sex.Survived</span>,Total<span class="op">=</span><span class="va">tab.Sex</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">fptab.Class.Survived</span>,Total<span class="op">=</span><span class="va">tab.Class</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  digits<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span> <span class="co"># One digit after dot for percentages </span></span>
<span>                <span class="co"># no digits for total counts.</span></span>
<span><span class="op">)</span></span></code></pre></div>
<style>
      table#ftab-matrix-3 {
         border-collapse: collapse; border-style: none; margin: 2ex auto;
      } 
      table#ftab-matrix-3 tr {
          border-style: none;
      } 
      table#ftab-matrix-3 td {
        padding-top: 3px; 
        padding-bottom: 3px; 
        padding-left: 0.5ex; 
        padding-right: 0.5ex; 
        margin: 0px; 
        margin-top: 0px;
        margin-bottom: 0px;
        border-style: none; 
        border-width: 0; 
      }
table#ftab-matrix-3 tr:nth-child(1){
     border-top: 2px solid;
}
table#ftab-matrix-3 tr:nth-child(2),
table#ftab-matrix-3 tr:nth-child(4),
table#ftab-matrix-3 tr:nth-child(6),
table#ftab-matrix-3 tr:nth-child(10){
     border-bottom: 1px solid;
}
table#ftab-matrix-3 tr:nth-child(10){
     border-bottom: 2px solid;
}
table#ftab-matrix-3 td:nth-child(n of .header) {
     border-bottom: 1px solid;
}
table#ftab-matrix-3 td:nth-child(4),
table#ftab-matrix-3 td:nth-child(7),
table#ftab-matrix-3 td:nth-child(10){
         padding-left: 0px;
         padding-right: 0px;
         text-align: center; 
         width: .2ex;
         /*background-color: blue;*/
        }
table#ftab-matrix-3 td:nth-child(3),
table#ftab-matrix-3 td:nth-child(6),
table#ftab-matrix-3 td:nth-child(9){
         padding-left: 0.5ex;
         padding-right: 0px;
         text-align: right; 
         /*background-color: red;*/
        }
table#ftab-matrix-3 td:nth-child(5),
table#ftab-matrix-3 td:nth-child(8),
table#ftab-matrix-3 td:nth-child(11){
         padding-left: 0px;
         padding-right: 0.5ex;
         text-align: left; 
         /*background-color: green;*/
        } 
table#ftab-matrix-3 td:nth-child(n of .header){
         padding-left: 0.5ex;
         padding-right: 0.5ex;
         text-align: center; 
         /*background-color: gray;*/
        } 
</style>
<table class="table ftable" id="ftab-matrix-3">
<tr>
<td>
</td>
<td>
</td>
<td colspan="6" class="header">
Survived
</td>
<td colspan="3">
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td colspan="3" class="header">
No
</td>
<td colspan="3" class="header">
Yes
</td>
<td colspan="3" class="header">
Total
</td>
</tr>
<tr>
<td>
Age
</td>
<td>
Child
</td>
<td>
47
</td>
<td>
.
</td>
<td>
7
</td>
<td>
52
</td>
<td>
.
</td>
<td>
3
</td>
<td>
109
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Adult
</td>
<td>
68
</td>
<td>
.
</td>
<td>
7
</td>
<td>
31
</td>
<td>
.
</td>
<td>
3
</td>
<td>
2092
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Sex
</td>
<td>
Male
</td>
<td>
78
</td>
<td>
.
</td>
<td>
8
</td>
<td>
21
</td>
<td>
.
</td>
<td>
2
</td>
<td>
1731
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Female
</td>
<td>
26
</td>
<td>
.
</td>
<td>
8
</td>
<td>
73
</td>
<td>
.
</td>
<td>
2
</td>
<td>
470
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Class
</td>
<td>
1st
</td>
<td>
37
</td>
<td>
.
</td>
<td>
5
</td>
<td>
62
</td>
<td>
.
</td>
<td>
5
</td>
<td>
325
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
2nd
</td>
<td>
58
</td>
<td>
.
</td>
<td>
6
</td>
<td>
41
</td>
<td>
.
</td>
<td>
4
</td>
<td>
285
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
3rd
</td>
<td>
74
</td>
<td>
.
</td>
<td>
8
</td>
<td>
25
</td>
<td>
.
</td>
<td>
2
</td>
<td>
706
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Crew
</td>
<td>
76
</td>
<td>
.
</td>
<td>
0
</td>
<td>
24
</td>
<td>
.
</td>
<td>
0
</td>
<td>
885
</td>
<td>
</td>
<td>
</td>
</tr>
</table>
<p>The same construct as LaTeX code:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/toLatex.html" class="external-link">toLatex</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">fptab.Age.Survived</span>,Total<span class="op">=</span><span class="va">tab.Age</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">fptab.Sex.Survived</span>,Total<span class="op">=</span><span class="va">tab.Sex</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">fptab.Class.Survived</span>,Total<span class="op">=</span><span class="va">tab.Class</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  digits<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span> <span class="co"># One digit after dot for percentages </span></span>
<span>                <span class="co"># no digits for total counts.</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code>\begin{tabular}{llD{.}{.}{1}D{.}{.}{1}cD{.}{.}{0}}
\toprule
&amp;&amp;\multicolumn{2}{c}{Survived}&amp;&amp;\\
\cmidrule{3-4}
&amp;&amp;\multicolumn{1}{c}{No}&amp;\multicolumn{1}{c}{Yes}&amp;&amp;\multicolumn{1}{c}{Total}\\
\midrule
Age&amp;Child&amp;47.7&amp;52.3&amp;&amp;109\\
&amp;Adult&amp;68.7&amp;31.3&amp;&amp;2092\\
\midrule Sex&amp;Male&amp;78.8&amp;21.2&amp;&amp;1731\\
&amp;Female&amp;26.8&amp;73.2&amp;&amp;470\\
\midrule Class&amp;1st&amp;37.5&amp;62.5&amp;&amp;325\\
&amp;2nd&amp;58.6&amp;41.4&amp;&amp;285\\
&amp;3rd&amp;74.8&amp;25.2&amp;&amp;706\\
&amp;Crew&amp;76.0&amp;24.0&amp;&amp;885\\
\bottomrule
\end{tabular}</code></pre>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Martin Elff.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
